function cov_1kd9m2t7wq(){var path="/vagrant/continuum/core/src/modules/evaluation/middlewares/per/v1/equifax/fn/getDataFromEquifax.js";var hash="d3dc5e05afa920e7af90eb5a2ccb3d5d24b832d3";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/vagrant/continuum/core/src/modules/evaluation/middlewares/per/v1/equifax/fn/getDataFromEquifax.js",statementMap:{"0":{start:{line:2,column:24},end:{line:2,column:57}},"1":{start:{line:5,column:27},end:{line:8,column:1}},"2":{start:{line:6,column:22},end:{line:6,column:85}},"3":{start:{line:6,column:55},end:{line:6,column:84}},"4":{start:{line:7,column:4},end:{line:7,column:49}},"5":{start:{line:10,column:30},end:{line:10,column:105}},"6":{start:{line:10,column:55},end:{line:10,column:105}},"7":{start:{line:12,column:24},end:{line:12,column:100}},"8":{start:{line:12,column:49},end:{line:12,column:100}},"9":{start:{line:14,column:31},end:{line:14,column:107}},"10":{start:{line:14,column:56},end:{line:14,column:107}},"11":{start:{line:16,column:34},end:{line:16,column:110}},"12":{start:{line:16,column:59},end:{line:16,column:110}},"13":{start:{line:18,column:21},end:{line:41,column:1}},"14":{start:{line:26,column:8},end:{line:26,column:19}},"15":{start:{line:27,column:23},end:{line:27,column:100}},"16":{start:{line:28,column:27},end:{line:28,column:104}},"17":{start:{line:29,column:31},end:{line:29,column:112}},"18":{start:{line:30,column:29},end:{line:30,column:107}},"19":{start:{line:31,column:29},end:{line:31,column:82}},"20":{start:{line:33,column:4},end:{line:39,column:5}},"21":{start:{line:34,column:8},end:{line:34,column:56}},"22":{start:{line:36,column:8},end:{line:38,column:11}},"23":{start:{line:37,column:8},end:{line:37,column:82}},"24":{start:{line:37,column:46},end:{line:37,column:82}},"25":{start:{line:40,column:4},end:{line:40,column:119}},"26":{start:{line:43,column:43},end:{line:46,column:1}},"27":{start:{line:44,column:4},end:{line:45,column:13}},"28":{start:{line:48,column:27},end:{line:60,column:1}},"29":{start:{line:50,column:33},end:{line:50,column:84}},"30":{start:{line:52,column:4},end:{line:58,column:6}},"31":{start:{line:62,column:0},end:{line:65,column:1}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:27},end:{line:5,column:28}},loc:{start:{line:5,column:66},end:{line:8,column:1}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:6,column:47},end:{line:6,column:48}},loc:{start:{line:6,column:55},end:{line:6,column:84}},line:6},"2":{name:"(anonymous_2)",decl:{start:{line:10,column:30},end:{line:10,column:31}},loc:{start:{line:10,column:55},end:{line:10,column:105}},line:10},"3":{name:"(anonymous_3)",decl:{start:{line:12,column:24},end:{line:12,column:25}},loc:{start:{line:12,column:49},end:{line:12,column:100}},line:12},"4":{name:"(anonymous_4)",decl:{start:{line:14,column:31},end:{line:14,column:32}},loc:{start:{line:14,column:56},end:{line:14,column:107}},line:14},"5":{name:"(anonymous_5)",decl:{start:{line:16,column:34},end:{line:16,column:35}},loc:{start:{line:16,column:59},end:{line:16,column:110}},line:16},"6":{name:"(anonymous_6)",decl:{start:{line:18,column:21},end:{line:18,column:22}},loc:{start:{line:18,column:67},end:{line:41,column:1}},line:18},"7":{name:"(anonymous_7)",decl:{start:{line:36,column:35},end:{line:36,column:36}},loc:{start:{line:36,column:45},end:{line:38,column:9}},line:36},"8":{name:"(anonymous_8)",decl:{start:{line:43,column:43},end:{line:43,column:44}},loc:{start:{line:43,column:64},end:{line:46,column:1}},line:43},"9":{name:"(anonymous_9)",decl:{start:{line:48,column:27},end:{line:48,column:28}},loc:{start:{line:48,column:62},end:{line:60,column:1}},line:48}},branchMap:{"0":{loc:{start:{line:7,column:11},end:{line:7,column:48}},type:"cond-expr",locations:[{start:{line:7,column:23},end:{line:7,column:41}},{start:{line:7,column:44},end:{line:7,column:48}}],line:7},"1":{loc:{start:{line:33,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:33,column:4},end:{line:39,column:5}},{start:{line:33,column:4},end:{line:39,column:5}}],line:33},"2":{loc:{start:{line:37,column:8},end:{line:37,column:82}},type:"if",locations:[{start:{line:37,column:8},end:{line:37,column:82}},{start:{line:37,column:8},end:{line:37,column:82}}],line:37}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d3dc5e05afa920e7af90eb5a2ccb3d5d24b832d3"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1kd9m2t7wq=function(){return actualCoverage;};}return actualCoverage;}cov_1kd9m2t7wq();const validationRules=(cov_1kd9m2t7wq().s[0]++,require('./validationRules.json'));cov_1kd9m2t7wq().s[1]++;const getAttributeValue=(equifaxPersonalInfo,attributeKey)=>{cov_1kd9m2t7wq().f[0]++;const attribute=(cov_1kd9m2t7wq().s[2]++,equifaxPersonalInfo.find(el=>{cov_1kd9m2t7wq().f[1]++;cov_1kd9m2t7wq().s[3]++;return el.Nombre[0]===attributeKey;}));cov_1kd9m2t7wq().s[4]++;return attribute?(cov_1kd9m2t7wq().b[0][0]++,attribute.Valor[0]):(cov_1kd9m2t7wq().b[0][1]++,null);};cov_1kd9m2t7wq().s[5]++;const getEquifaxReportedAge=equifaxPersonalInfo=>{cov_1kd9m2t7wq().f[2]++;cov_1kd9m2t7wq().s[6]++;return+getAttributeValue(equifaxPersonalInfo,'D01EDAD');};cov_1kd9m2t7wq().s[7]++;const getEquifaxScore=equifaxPersonalInfo=>{cov_1kd9m2t7wq().f[3]++;cov_1kd9m2t7wq().s[8]++;return+getAttributeValue(equifaxPersonalInfo,'S08SCORE');};cov_1kd9m2t7wq().s[9]++;const getDelinquenciesAmount=equifaxPersonalInfo=>{cov_1kd9m2t7wq().f[4]++;cov_1kd9m2t7wq().s[10]++;return+getAttributeValue(equifaxPersonalInfo,'D07MAXDM');};cov_1kd9m2t7wq().s[11]++;const getNormalRatingPercentage=equifaxPersonalInfo=>{cov_1kd9m2t7wq().f[5]++;cov_1kd9m2t7wq().s[12]++;return+getAttributeValue(equifaxPersonalInfo,'D19PORC1');};cov_1kd9m2t7wq().s[13]++;const calculateRCI=(equifaxPersonalInfo,income,creditRules)=>{cov_1kd9m2t7wq().f[6]++;const{creditLinePercentage,creditCardDebtMonths,consumerCreditDebtMonths,creditDebtOnCarsMonths,mortageCreditRules,maxMortageCredit}=(cov_1kd9m2t7wq().s[14]++,creditRules);const creditLine=(cov_1kd9m2t7wq().s[15]++,+getAttributeValue(equifaxPersonalInfo,'D19DTCREVIG')*creditLinePercentage);const creditCardDebt=(cov_1kd9m2t7wq().s[16]++,+getAttributeValue(equifaxPersonalInfo,'D19DTCREVIG')/creditCardDebtMonths);const consumerCreditDebt=(cov_1kd9m2t7wq().s[17]++,+getAttributeValue(equifaxPersonalInfo,'D19DTCREVIG')/consumerCreditDebtMonths);const creditDebtOnCars=(cov_1kd9m2t7wq().s[18]++,+getAttributeValue(equifaxPersonalInfo,'D19CREVEHI')/creditDebtOnCarsMonths);let creditDebtOnHouses=(cov_1kd9m2t7wq().s[19]++,+getAttributeValue(equifaxPersonalInfo,'D19CREHIPO'));cov_1kd9m2t7wq().s[20]++;if(creditDebtOnHouses>maxMortageCredit){cov_1kd9m2t7wq().b[1][0]++;cov_1kd9m2t7wq().s[21]++;creditDebtOnHouses/=maxMortageCredit.divideBy;}else{cov_1kd9m2t7wq().b[1][1]++;cov_1kd9m2t7wq().s[22]++;mortageCreditRules.forEach(rule=>{cov_1kd9m2t7wq().f[7]++;cov_1kd9m2t7wq().s[23]++;if(creditDebtOnHouses<rule.amount){cov_1kd9m2t7wq().b[2][0]++;cov_1kd9m2t7wq().s[24]++;creditDebtOnHouses/=rule.divideBy;}else{cov_1kd9m2t7wq().b[2][1]++;}});}cov_1kd9m2t7wq().s[25]++;return(creditLine+creditCardDebt+consumerCreditDebt+creditDebtOnCars+creditDebtOnHouses)/income*100;};cov_1kd9m2t7wq().s[26]++;const getPersonalInfoFromEquifaxResponse=equifaxResponse=>{cov_1kd9m2t7wq().f[8]++;cov_1kd9m2t7wq().s[27]++;return equifaxResponse['soap:Envelope']['soap:Body'][0]['ns2:respuestaGetRiesgoType'][0].IntegrantePersonType[0].Campo;};cov_1kd9m2t7wq().s[28]++;const getDataFromEquifax=async(income,equifaxResponse)=>{cov_1kd9m2t7wq().f[9]++;const equifaxPersonalInfo=(cov_1kd9m2t7wq().s[29]++,getPersonalInfoFromEquifaxResponse(equifaxResponse));cov_1kd9m2t7wq().s[30]++;return{equifaxReportedAge:await getEquifaxReportedAge(equifaxPersonalInfo),equifaxScore:await getEquifaxScore(equifaxPersonalInfo),delinquenciesAmount:await getDelinquenciesAmount(equifaxPersonalInfo),normalRatingPercentage:await getNormalRatingPercentage(equifaxPersonalInfo),calculateRCI:await calculateRCI(equifaxPersonalInfo,income,validationRules.creditRules)};};cov_1kd9m2t7wq().s[31]++;module.exports={getDataFromEquifax,validationRules};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldERhdGFGcm9tRXF1aWZheC5qcyJdLCJuYW1lcyI6WyJ2YWxpZGF0aW9uUnVsZXMiLCJyZXF1aXJlIiwiZ2V0QXR0cmlidXRlVmFsdWUiLCJlcXVpZmF4UGVyc29uYWxJbmZvIiwiYXR0cmlidXRlS2V5IiwiYXR0cmlidXRlIiwiZmluZCIsImVsIiwiTm9tYnJlIiwiVmFsb3IiLCJnZXRFcXVpZmF4UmVwb3J0ZWRBZ2UiLCJnZXRFcXVpZmF4U2NvcmUiLCJnZXREZWxpbnF1ZW5jaWVzQW1vdW50IiwiZ2V0Tm9ybWFsUmF0aW5nUGVyY2VudGFnZSIsImNhbGN1bGF0ZVJDSSIsImluY29tZSIsImNyZWRpdFJ1bGVzIiwiY3JlZGl0TGluZVBlcmNlbnRhZ2UiLCJjcmVkaXRDYXJkRGVidE1vbnRocyIsImNvbnN1bWVyQ3JlZGl0RGVidE1vbnRocyIsImNyZWRpdERlYnRPbkNhcnNNb250aHMiLCJtb3J0YWdlQ3JlZGl0UnVsZXMiLCJtYXhNb3J0YWdlQ3JlZGl0IiwiY3JlZGl0TGluZSIsImNyZWRpdENhcmREZWJ0IiwiY29uc3VtZXJDcmVkaXREZWJ0IiwiY3JlZGl0RGVidE9uQ2FycyIsImNyZWRpdERlYnRPbkhvdXNlcyIsImRpdmlkZUJ5IiwiZm9yRWFjaCIsInJ1bGUiLCJhbW91bnQiLCJnZXRQZXJzb25hbEluZm9Gcm9tRXF1aWZheFJlc3BvbnNlIiwiZXF1aWZheFJlc3BvbnNlIiwiSW50ZWdyYW50ZVBlcnNvblR5cGUiLCJDYW1wbyIsImdldERhdGFGcm9tRXF1aWZheCIsImVxdWlmYXhSZXBvcnRlZEFnZSIsImVxdWlmYXhTY29yZSIsImRlbGlucXVlbmNpZXNBbW91bnQiLCJub3JtYWxSYXRpbmdQZXJjZW50YWdlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6InN1SkFlWTsyRkFkWixLQUFNQSxDQUFBQSxlQUFlLDBCQUFHQyxPQUFPLENBQUMsd0JBQUQsQ0FBVixDQUFyQixDLHdCQUdBLEtBQU1DLENBQUFBLGlCQUFpQixDQUFJ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akQsRUFBK0UsQ0FBL0UsRUFBa0ZDLG9CQUFsRixDQUF1RyxDQUF2RyxFQUNKQyxLQURILENBRUgsQ0FIRCxDLHlCQUtBLEtBQU1DLENBQUFBLGtCQUFrQixDQUFHLE1BQU9yQixNQUFQLENBQWVrQixlQUFmLEdBQW1DLHlCQUUxRCxLQUFNOUIsQ0FBQUEsbUJBQW1CLDJCQUFJNkIsa0NBQWtDLENBQUNDLGVBQUQsQ0FBdEMsQ0FBekIsQ0FGMEQseUJBSTFELE1BQVEsQ0FDSkksa0JBQWtCLENBQUcsS0FBTTNCLENBQUFBLHFCQUFxQixDQUFDUCxtQkFBRCxDQUQ1QyxDQUVKbUMsWUFBWSxDQUFHLEtBQU0zQixDQUFBQSxlQUFlLENBQUNSLG1CQUFELENBRmhDLENBR0pvQyxtQkFBbUIsQ0FBRyxLQUFNM0IsQ0FBQUEsc0JBQXNCLENBQUNULG1CQUFELENBSDlDLENBSUpxQyxzQkFBc0IsQ0FBRyxLQUFNM0IsQ0FBQUEseUJBQXlCLENBQUNWLG1CQUFELENBSnBELENBS0pXLFlBQVksQ0FBSSxLQUFNQSxDQUFBQSxZQUFZLENBQUNYLG1CQUFELENBQXNCWSxNQUF0QixDQUErQmYsZUFBZSxDQUFDZ0IsV0FBL0MsQ0FMOUIsQ0FBUixDQVFILENBWkQsQyx5QkFjQXlCLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQixDQUNiTixrQkFEYSxDQUVicEMsZUFGYSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5jb25zdCB2YWxpZGF0aW9uUnVsZXMgPSByZXF1aXJlKCcuL3ZhbGlkYXRpb25SdWxlcy5qc29uJyk7XHJcblxyXG5cclxuY29uc3QgZ2V0QXR0cmlidXRlVmFsdWUgPSAgKGVxdWlmYXhQZXJzb25hbEluZm8sIGF0dHJpYnV0ZUtleSkgPT4ge1xyXG4gICAgY29uc3QgYXR0cmlidXRlID0gZXF1aWZheFBlcnNvbmFsSW5mby5maW5kKChlbCkgPT4gZWwuTm9tYnJlWzBdID09PSBhdHRyaWJ1dGVLZXkpO1xyXG4gICAgcmV0dXJuIGF0dHJpYnV0ZSA/IGF0dHJpYnV0ZS5WYWxvclswXSA6IG51bGw7XHJcbn07XHJcbiAgXHJcbmNvbnN0IGdldEVxdWlmYXhSZXBvcnRlZEFnZSA9IChlcXVpZmF4UGVyc29uYWxJbmZvKSA9PiArZ2V0QXR0cmlidXRlVmFsdWUoZXF1aWZheFBlcnNvbmFsSW5mbywgJ0QwMUVEQUQnKTtcclxuICBcclxuY29uc3QgZ2V0RXF1aWZheFNjb3JlID0gKGVxdWlmYXhQZXJzb25hbEluZm8pID0+ICtnZXRBdHRyaWJ1dGVWYWx1ZShlcXVpZmF4UGVyc29uYWxJbmZvLCAnUzA4U0NPUkUnKTtcclxuICBcclxuY29uc3QgZ2V0RGVsaW5xdWVuY2llc0Ftb3VudCA9IChlcXVpZmF4UGVyc29uYWxJbmZvKSA9PiArZ2V0QXR0cmlidXRlVmFsdWUoZXF1aWZheFBlcnNvbmFsSW5mbywgJ0QwN01BWERNJyk7XHJcbiAgXHJcbmNvbnN0IGdldE5vcm1hbFJhdGluZ1BlcmNlbnRhZ2UgPSAoZXF1aWZheFBlcnNvbmFsSW5mbykgPT4gK2dldEF0dHJpYnV0ZVZhbHVlKGVxdWlmYXhQZXJzb25hbEluZm8sICdEMTlQT1JDMScpO1xyXG4gIFxyXG5jb25zdCBjYWxjdWxhdGVSQ0kgPSAoZXF1aWZheFBlcnNvbmFsSW5mbywgaW5jb21lLCBjcmVkaXRSdWxlcykgPT4ge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICAgIGNyZWRpdExpbmVQZXJjZW50YWdlLFxyXG4gICAgICAgIGNyZWRpdENhcmREZWJ0TW9udGhzLFxyXG4gICAgICAgIGNvbnN1bWVyQ3JlZGl0RGVidE1vbnRocyxcclxuICAgICAgICBjcmVkaXREZWJ0T25DYXJzTW9udGhzLFxyXG4gICAgICAgIG1vcnRhZ2VDcmVkaXRSdWxlcyxcclxuICAgICAgICBtYXhNb3J0YWdlQ3JlZGl0LFxyXG4gICAgfSA9IGNyZWRpdFJ1bGVzO1xyXG4gICAgY29uc3QgY3JlZGl0TGluZSA9ICtnZXRBdHRyaWJ1dGVWYWx1ZShlcXVpZmF4UGVyc29uYWxJbmZvLCAnRDE5RFRDUkVWSUcnKSAqIGNyZWRpdExpbmVQZXJjZW50YWdlO1xyXG4gICAgY29uc3QgY3JlZGl0Q2FyZERlYnQgPSArZ2V0QXR0cmlidXRlVmFsdWUoZXF1aWZheFBlcnNvbmFsSW5mbywgJ0QxOURUQ1JFVklHJykgLyBjcmVkaXRDYXJkRGVidE1vbnRocztcclxuICAgIGNvbnN0IGNvbnN1bWVyQ3JlZGl0RGVidCA9ICtnZXRBdHRyaWJ1dGVWYWx1ZShlcXVpZmF4UGVyc29uYWxJbmZvLCAnRDE5RFRDUkVWSUcnKSAvIGNvbnN1bWVyQ3JlZGl0RGVidE1vbnRocztcclxuICAgIGNvbnN0IGNyZWRpdERlYnRPbkNhcnMgPSArZ2V0QXR0cmlidXRlVmFsdWUoZXF1aWZheFBlcnNvbmFsSW5mbywgJ0QxOUNSRVZFSEknKSAvIGNyZWRpdERlYnRPbkNhcnNNb250aHM7XHJcbiAgICBsZXQgY3JlZGl0RGVidE9uSG91c2VzID0gK2dldEF0dHJpYnV0ZVZhbHVlKGVxdWlmYXhQZXJzb25hbEluZm8sICdEMTlDUkVISVBPJyk7XHJcblxyXG4gICAgaWYgKGNyZWRpdERlYnRPbkhvdXNlcyA+IG1heE1vcnRhZ2VDcmVkaXQpIHtcclxuICAgICAgICBjcmVkaXREZWJ0T25Ib3VzZXMgLz0gbWF4TW9ydGFnZUNyZWRpdC5kaXZpZGVCeTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbW9ydGFnZUNyZWRpdFJ1bGVzLmZvckVhY2goKHJ1bGUpID0+IHtcclxuICAgICAgICBpZiAoY3JlZGl0RGVidE9uSG91c2VzIDwgcnVsZS5hbW91bnQpIGNyZWRpdERlYnRPbkhvdXNlcyAvPSBydWxlLmRpdmlkZUJ5O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICgoY3JlZGl0TGluZSArIGNyZWRpdENhcmREZWJ0ICsgY29uc3VtZXJDcmVkaXREZWJ0ICsgY3JlZGl0RGVidE9uQ2FycyArIGNyZWRpdERlYnRPbkhvdXNlcykgLyBpbmNvbWUpICogMTAwO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0UGVyc29uYWxJbmZvRnJvbUVxdWlmYXhSZXNwb25zZSA9IChlcXVpZmF4UmVzcG9uc2UpID0+IHtcclxuICAgIHJldHVybiBlcXVpZmF4UmVzcG9uc2VbJ3NvYXA6RW52ZWxvcGUnXVsnc29hcDpCb2R5J11bMF1bJ25zMjpyZXNwdWVzdGFHZXRSaWVzZ29UeXBlJ11bMF0uSW50ZWdyYW50ZVBlcnNvblR5cGVbMF1cclxuICAgICAgLkNhbXBvO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0RGF0YUZyb21FcXVpZmF4ID0gYXN5bmMgKGluY29tZSwgZXF1aWZheFJlc3BvbnNlKSA9PiB7XHJcblxyXG4gICAgY29uc3QgZXF1aWZheFBlcnNvbmFsSW5mbyAgPSBnZXRQZXJzb25hbEluZm9Gcm9tRXF1aWZheFJlc3BvbnNlKGVxdWlmYXhSZXNwb25zZSk7XHJcblxyXG4gICAgcmV0dXJuICB7XHJcbiAgICAgICAgZXF1aWZheFJlcG9ydGVkQWdlIDogYXdhaXQgZ2V0RXF1aWZheFJlcG9ydGVkQWdlKGVxdWlmYXhQZXJzb25hbEluZm8pLFxyXG4gICAgICAgIGVxdWlmYXhTY29yZSA6IGF3YWl0IGdldEVxdWlmYXhTY29yZShlcXVpZmF4UGVyc29uYWxJbmZvKSxcclxuICAgICAgICBkZWxpbnF1ZW5jaWVzQW1vdW50IDogYXdhaXQgZ2V0RGVsaW5xdWVuY2llc0Ftb3VudChlcXVpZmF4UGVyc29uYWxJbmZvKSxcclxuICAgICAgICBub3JtYWxSYXRpbmdQZXJjZW50YWdlIDogYXdhaXQgZ2V0Tm9ybWFsUmF0aW5nUGVyY2VudGFnZShlcXVpZmF4UGVyc29uYWxJbmZvKSxcclxuICAgICAgICBjYWxjdWxhdGVSQ0kgOiAgYXdhaXQgY2FsY3VsYXRlUkNJKGVxdWlmYXhQZXJzb25hbEluZm8sIGluY29tZSAsIHZhbGlkYXRpb25SdWxlcy5jcmVkaXRSdWxlcylcclxuICAgIH07XHJcblxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBnZXREYXRhRnJvbUVxdWlmYXgsXHJcbiAgICB2YWxpZGF0aW9uUnVsZXNcclxufSJdfQ==