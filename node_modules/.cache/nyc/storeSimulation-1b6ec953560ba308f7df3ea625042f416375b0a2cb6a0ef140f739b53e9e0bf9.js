function cov_14jzn6m9yz(){var path="/vagrant/continuum/core/src/modules/simulation/middlewares/massive/fn/storeSimulation.js";var hash="0d15df7328818a051ab5562c77a083046a0f5f49";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/vagrant/continuum/core/src/modules/simulation/middlewares/massive/fn/storeSimulation.js",statementMap:{"0":{start:{line:2,column:24},end:{line:20,column:3}},"1":{start:{line:4,column:34},end:{line:4,column:59}},"2":{start:{line:6,column:6},end:{line:19,column:7}},"3":{start:{line:7,column:42},end:{line:12,column:10}},"4":{start:{line:14,column:8},end:{line:16,column:9}},"5":{start:{line:15,column:12},end:{line:15,column:90}},"6":{start:{line:18,column:8},end:{line:18,column:54}},"7":{start:{line:22,column:2},end:{line:24,column:3}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:2,column:24},end:{line:2,column:25}},loc:{start:{line:2,column:64},end:{line:20,column:3}},line:2}},branchMap:{"0":{loc:{start:{line:14,column:8},end:{line:16,column:9}},type:"if",locations:[{start:{line:14,column:8},end:{line:16,column:9}},{start:{line:14,column:8},end:{line:16,column:9}}],line:14}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},f:{"0":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0d15df7328818a051ab5562c77a083046a0f5f49"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_14jzn6m9yz=function(){return actualCoverage;};}return actualCoverage;}cov_14jzn6m9yz();cov_14jzn6m9yz().s[0]++;const storeSimulation=async(dependencies,body,response)=>{cov_14jzn6m9yz().f[0]++;const{SimulationPgModel}=(cov_14jzn6m9yz().s[1]++,dependencies.commonModels);//save here
cov_14jzn6m9yz().s[2]++;try{const[SimulationData,created]=(cov_14jzn6m9yz().s[3]++,await SimulationPgModel.findOrCreate({where:{identifierValue:body.customer.identificationValue},defaults:{simulationRequest:body,simulationResponse:response}}));cov_14jzn6m9yz().s[4]++;if(!created){cov_14jzn6m9yz().b[0][0]++;cov_14jzn6m9yz().s[5]++;SimulationData.update({simulationRequest:body,simulationResponse:response});}else{cov_14jzn6m9yz().b[0][1]++;}}catch(err){cov_14jzn6m9yz().s[6]++;throw new RestException(errors.ERROR_SERVICE);}};cov_14jzn6m9yz().s[7]++;module.exports={storeSimulation};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0b3JlU2ltdWxhdGlvbi5qcyJdLCJuYW1lcyI6WyJzdG9yZVNpbXVsYXRpb24iLCJkZXBlbmRlbmNpZXMiLCJib2R5IiwicmVzcG9uc2UiLCJTaW11bGF0aW9uUGdNb2RlbCIsImNvbW1vbk1vZGVscyIsIlNpbXVsYXRpb25EYXRhIiwiY3JlYXRlZCIsImZpbmRPckNyZWF0ZSIsIndoZXJlIiwiaWRlbnRpZmllclZhbHVlIiwiY3VzdG9tZXIiLCJpZGVudGlmaWNhdGlvblZhbHVlIiwiZGVmYXVsdHMiLCJzaW11bGF0aW9uUmVxdWVzdCIsInNpbXVsYXRpb25SZXNwb25zZSIsInVwZGF0ZSIsImVyciIsIlJlc3RFeGNlcHRpb24iLCJlcnJvcnMiLCJFUlJPUl9TRVJWSUNFIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IjA5Q0FlWTttSEFkWixLQUFNQSxDQUFBQSxlQUFlLENBQUcsTUFBT0MsWUFBUCxDQUFxQkMsSUFBckIsQ0FBMkJDLFFBQTNCLEdBQXdDLHlCQUU1RCxLQUFNLENBQUVDLGlCQUFGLDJCQUF3QkgsWUFBWSxDQUFDSSxZQUFyQyxDQUFOLENBQ0U7QUFIMEQsd0JBSTFELEdBQUksQ0FDRixLQUFNLENBQUNDLGNBQUQsQ0FBaUJDLE9BQWpCLDJCQUE0QixLQUFNSCxDQUFBQSxpQkFBaUIsQ0FBQ0ksWUFBbEIsQ0FBK0IsQ0FDckVDLEtBQUssQ0FBRSxDQUNMQyxlQUFlLENBQUVSLElBQUksQ0FBQ1MsUUFBTCxDQUFjQyxtQkFEMUIsQ0FEOEQsQ0FJckVDLFFBQVEsQ0FBRSxDQUFDQyxpQkFBaUIsQ0FBQ1osSUFBbkIsQ0FBeUJhLGtCQUFrQixDQUFFWixRQUE3QyxDQUoyRCxDQUEvQixDQUFsQyxDQUFOLENBREUsd0JBUUYsR0FBSSxDQUFDSSxPQUFMLENBQWMsb0RBQ1ZELGNBQWMsQ0FBQ1UsTUFBZixDQUFzQixDQUFDRixpQkFBaUIsQ0FBQ1osSUFBbkIsQ0FBeUJhLGtCQUFrQixDQUFFWixRQUE3QyxDQUF0QixFQUNILENBRkQsaUNBR0QsQ0FBQyxNQUFPYyxHQUFQLENBQVkseUJBQ1osS0FBTSxJQUFJQyxDQUFBQSxhQUFKLENBQWtCQyxNQUFNLENBQUNDLGFBQXpCLENBQU4sQ0FDRCxDQUNKLENBbEJILEMsd0JBb0JFQyxNQUFNLENBQUNDLE9BQVAsQ0FBaUIsQ0FDZnRCLGVBRGUsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuY29uc3Qgc3RvcmVTaW11bGF0aW9uID0gYXN5bmMgKGRlcGVuZGVuY2llcywgYm9keSwgcmVzcG9uc2UpID0+IHtcclxuXHJcbiAgICBjb25zdCB7IFNpbXVsYXRpb25QZ01vZGVsIH0gPSBkZXBlbmRlbmNpZXMuY29tbW9uTW9kZWxzO1xyXG4gICAgICAvL3NhdmUgaGVyZVxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IFtTaW11bGF0aW9uRGF0YSwgY3JlYXRlZF0gPSBhd2FpdCBTaW11bGF0aW9uUGdNb2RlbC5maW5kT3JDcmVhdGUoe1xyXG4gICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgaWRlbnRpZmllclZhbHVlOiBib2R5LmN1c3RvbWVyLmlkZW50aWZpY2F0aW9uVmFsdWUsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZGVmYXVsdHM6IHtzaW11bGF0aW9uUmVxdWVzdDpib2R5LCBzaW11bGF0aW9uUmVzcG9uc2U6IHJlc3BvbnNlfSxcclxuICAgICAgICB9KTtcclxuICBcclxuICAgICAgICBpZiAoIWNyZWF0ZWQpIHtcclxuICAgICAgICAgICAgU2ltdWxhdGlvbkRhdGEudXBkYXRlKHtzaW11bGF0aW9uUmVxdWVzdDpib2R5LCBzaW11bGF0aW9uUmVzcG9uc2U6IHJlc3BvbnNlfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICB0aHJvdyBuZXcgUmVzdEV4Y2VwdGlvbihlcnJvcnMuRVJST1JfU0VSVklDRSk7XHJcbiAgICAgIH1cclxuICB9XHJcbiAgXHJcbiAgbW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBzdG9yZVNpbXVsYXRpb25cclxuICB9Il19