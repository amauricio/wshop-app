function cov_1cchn9ck8k(){var path="/vagrant/continuum/core/src/modules/pre-evaluation/middlewares/default/applyValidator.js";var hash="8e580a717ef1b2e7ab31c5045ffe1e92ced5933d";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/vagrant/continuum/core/src/modules/pre-evaluation/middlewares/default/applyValidator.js",statementMap:{"0":{start:{line:1,column:12},end:{line:1,column:26}},"1":{start:{line:2,column:16},end:{line:2,column:41}},"2":{start:{line:4,column:0},end:{line:34,column:2}},"3":{start:{line:4,column:35},end:{line:34,column:1}},"4":{start:{line:5,column:20},end:{line:27,column:4}},"5":{start:{line:29,column:27},end:{line:29,column:71}},"6":{start:{line:30,column:2},end:{line:32,column:3}},"7":{start:{line:31,column:4},end:{line:31,column:47}},"8":{start:{line:33,column:2},end:{line:33,column:16}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:4,column:17},end:{line:4,column:18}},loc:{start:{line:4,column:35},end:{line:34,column:1}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:4,column:35},end:{line:4,column:36}},loc:{start:{line:4,column:61},end:{line:34,column:1}},line:4}},branchMap:{"0":{loc:{start:{line:30,column:2},end:{line:32,column:3}},type:"if",locations:[{start:{line:30,column:2},end:{line:32,column:3}},{start:{line:30,column:2},end:{line:32,column:3}}],line:30}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},f:{"0":0,"1":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8e580a717ef1b2e7ab31c5045ffe1e92ced5933d"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1cchn9ck8k=function(){return actualCoverage;};}return actualCoverage;}cov_1cchn9ck8k();const Joi=(cov_1cchn9ck8k().s[0]++,require('joi'));const helpers=(cov_1cchn9ck8k().s[1]++,require('common/helpers'));cov_1cchn9ck8k().s[2]++;module.exports=dependencies=>{cov_1cchn9ck8k().f[0]++;cov_1cchn9ck8k().s[3]++;return async(req,res,next)=>{cov_1cchn9ck8k().f[1]++;const validator=(cov_1cchn9ck8k().s[4]++,Joi.object({channel:Joi.string().required(),rut:Joi.string().regex(/^\d{1,2}(\.)?\d{3}(\.)?\d{3}[-][0-9kK]{1}$/).required(),income:Joi.number().required(),vehiclePrice:Joi.number().required(),vehicleYear:Joi.number().required(),vehicleType:Joi.string().required(),monthlyPayment:Joi.number().required(),term:Joi.number().required(),//plazo
downPayment:Joi.number().required(),//pie
nationality:Joi.string().required(),workType:Joi.string().required(),workEntryDate:Joi.number().required(),//workEntryDate
tradeInCarValue:Joi.number().required(),brandName:Joi.string().required(),lastname:Joi.string().required(),phone:Joi.string().required().max(9),email:Joi.string().required().email({tlds:{allow:false}})}));const{error,value}=(cov_1cchn9ck8k().s[5]++,helpers.validatePayload(validator,req.body));cov_1cchn9ck8k().s[6]++;if(error){cov_1cchn9ck8k().b[0][0]++;cov_1cchn9ck8k().s[7]++;return res.status(400).json(error.details);}else{cov_1cchn9ck8k().b[0][1]++;}cov_1cchn9ck8k().s[8]++;return next();};};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcGx5VmFsaWRhdG9yLmpzIl0sIm5hbWVzIjpbIkpvaSIsInJlcXVpcmUiLCJoZWxwZXJzIiwibW9kdWxlIiwiZXhwb3J0cyIsImRlcGVuZGVuY2llcyIsInJlcSIsInJlcyIsIm5leHQiLCJ2YWxpZGF0b3IiLCJvYmplY3QiLCJjaGFubmVsIiwic3RyaW5nIiwicmVxdWlyZWQiLCJydXQiLCJyZWdleCIsImluY29tZSIsIm51bWJlciIsInZlaGljbGVQcmljZSIsInZlaGljbGVZZWFyIiwidmVoaWNsZVR5cGUiLCJtb250aGx5UGF5bWVudCIsInRlcm0iLCJkb3duUGF5bWVudCIsIm5hdGlvbmFsaXR5Iiwid29ya1R5cGUiLCJ3b3JrRW50cnlEYXRlIiwidHJhZGVJbkNhclZhbHVlIiwiYnJhbmROYW1lIiwibGFzdG5hbWUiLCJwaG9uZSIsIm1heCIsImVtYWlsIiwidGxkcyIsImFsbG93IiwiZXJyb3IiLCJ2YWx1ZSIsInZhbGlkYXRlUGF5bG9hZCIsImJvZHkiLCJzdGF0dXMiLCJqc29uIiwiZGV0YWlscyJdLCJtYXBwaW5ncyI6IjJxREFlWTsyRkFmWixLQUFNQSxDQUFBQSxHQUFHLDBCQUFHQyxPQUFPLENBQUMsS0FBRCxDQUFWLENBQVQsQ0FDQSxLQUFNQyxDQUFBQSxPQUFPLDBCQUFHRCxPQUFPLENBQUMsZ0JBQUQsQ0FBVixDQUFiLEMsd0JBRUFFLE1BQU0sQ0FBQ0MsT0FBUCxDQUFrQkMsWUFBRCxFQUFrQiw4REFBT0MsR0FBUCxDQUFZQyxHQUFaLENBQWlCQyxJQUFqQixHQUEwQix5QkFDM0QsS0FBTUMsQ0FBQUEsU0FBUywwQkFBR1QsR0FBRyxDQUFDVSxNQUFKLENBQVcsQ0FDM0JDLE9BQU8sQ0FBRVgsR0FBRyxDQUFDWSxNQUFKLEdBQWFDLFFBQWIsRUFEa0IsQ0FFM0JDLEdBQUcsQ0FBRWQsR0FBRyxDQUFDWSxNQUFKLEdBQ0ZHLEtBREUsQ0FDSSw0Q0FESixFQUVGRixRQUZFLEVBRnNCLENBSzNCRyxNQUFNLENBQUVoQixHQUFHLENBQUNpQixNQUFKLEdBQWFKLFFBQWIsRUFMbUIsQ0FNM0JLLFlBQVksQ0FBRWxCLEdBQUcsQ0FBQ2lCLE1BQUosR0FBYUosUUFBYixFQU5hLENBTzNCTSxXQUFXLENBQUVuQixHQUFHLENBQUNpQixNQUFKLEdBQWFKLFFBQWIsRUFQYyxDQVEzQk8sV0FBVyxDQUFFcEIsR0FBRyxDQUFDWSxNQUFKLEdBQWFDLFFBQWIsRUFSYyxDQVMzQlEsY0FBYyxDQUFFckIsR0FBRyxDQUFDaUIsTUFBSixHQUFhSixRQUFiLEVBVFcsQ0FVM0JTLElBQUksQ0FBRXRCLEdBQUcsQ0FBQ2lCLE1BQUosR0FBYUosUUFBYixFQVZxQixDQVVJO0FBQy9CVSxXQUFXLENBQUV2QixHQUFHLENBQUNpQixNQUFKLEdBQWFKLFFBQWIsRUFYYyxDQVdXO0FBQ3RDVyxXQUFXLENBQUV4QixHQUFHLENBQUNZLE1BQUosR0FBYUMsUUFBYixFQVpjLENBYTNCWSxRQUFRLENBQUV6QixHQUFHLENBQUNZLE1BQUosR0FBYUMsUUFBYixFQWJpQixDQWMzQmEsYUFBYSxDQUFFMUIsR0FBRyxDQUFDaUIsTUFBSixHQUFhSixRQUFiLEVBZFksQ0FjYTtBQUN4Q2MsZUFBZSxDQUFFM0IsR0FBRyxDQUFDaUIsTUFBSixHQUFhSixRQUFiLEVBZlUsQ0FnQjNCZSxTQUFTLENBQUU1QixHQUFHLENBQUNZLE1BQUosR0FBYUMsUUFBYixFQWhCZ0IsQ0FpQjNCZ0IsUUFBUSxDQUFFN0IsR0FBRyxDQUFDWSxNQUFKLEdBQWFDLFFBQWIsRUFqQmlCLENBa0IzQmlCLEtBQUssQ0FBRTlCLEdBQUcsQ0FBQ1ksTUFBSixHQUFhQyxRQUFiLEdBQXdCa0IsR0FBeEIsQ0FBNEIsQ0FBNUIsQ0FsQm9CLENBbUIzQkMsS0FBSyxDQUFFaEMsR0FBRyxDQUFDWSxNQUFKLEdBQ0pDLFFBREksR0FFSm1CLEtBRkksQ0FFRSxDQUFFQyxJQUFJLENBQUUsQ0FBRUMsS0FBSyxDQUFFLEtBQVQsQ0FBUixDQUZGLENBbkJvQixDQUFYLENBQUgsQ0FBZixDQXdCQSxLQUFNLENBQUVDLEtBQUYsQ0FBU0MsS0FBVCwyQkFBbUJsQyxPQUFPLENBQUNtQyxlQUFSLENBQXdCNUIsU0FBeEIsQ0FBbUNILEdBQUcsQ0FBQ2dDLElBQXZDLENBQW5CLENBQU4sQ0F6QjJELHdCQTBCM0QsR0FBSUgsS0FBSixDQUFXLG9EQUNULE1BQU81QixDQUFBQSxHQUFHLENBQUNnQyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJMLEtBQUssQ0FBQ00sT0FBM0IsQ0FBUCxDQUNELENBRkQsaUNBMUIyRCx3QkE2QjNELE1BQU9qQyxDQUFBQSxJQUFJLEVBQVgsQ0FDRCxDQTlCa0MsQ0E4QmxDLENBOUJEIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSm9pID0gcmVxdWlyZSgnam9pJyk7XHJcbmNvbnN0IGhlbHBlcnMgPSByZXF1aXJlKCdjb21tb24vaGVscGVycycpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSAoZGVwZW5kZW5jaWVzKSA9PiBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICBjb25zdCB2YWxpZGF0b3IgPSBKb2kub2JqZWN0KHtcclxuICAgIGNoYW5uZWw6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxyXG4gICAgcnV0OiBKb2kuc3RyaW5nKClcclxuICAgICAgLnJlZ2V4KC9eXFxkezEsMn0oXFwuKT9cXGR7M30oXFwuKT9cXGR7M31bLV1bMC05a0tdezF9JC8pXHJcbiAgICAgIC5yZXF1aXJlZCgpLFxyXG4gICAgaW5jb21lOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcclxuICAgIHZlaGljbGVQcmljZTogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXHJcbiAgICB2ZWhpY2xlWWVhcjogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXHJcbiAgICB2ZWhpY2xlVHlwZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXHJcbiAgICBtb250aGx5UGF5bWVudDogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXHJcbiAgICB0ZXJtOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSwgLy9wbGF6b1xyXG4gICAgZG93blBheW1lbnQ6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLCAvL3BpZVxyXG4gICAgbmF0aW9uYWxpdHk6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxyXG4gICAgd29ya1R5cGU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxyXG4gICAgd29ya0VudHJ5RGF0ZTogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksIC8vd29ya0VudHJ5RGF0ZVxyXG4gICAgdHJhZGVJbkNhclZhbHVlOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcclxuICAgIGJyYW5kTmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXHJcbiAgICBsYXN0bmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXHJcbiAgICBwaG9uZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCkubWF4KDkpLFxyXG4gICAgZW1haWw6IEpvaS5zdHJpbmcoKVxyXG4gICAgICAucmVxdWlyZWQoKVxyXG4gICAgICAuZW1haWwoeyB0bGRzOiB7IGFsbG93OiBmYWxzZSB9IH0pLFxyXG4gIH0pO1xyXG5cclxuICBjb25zdCB7IGVycm9yLCB2YWx1ZSB9ID0gaGVscGVycy52YWxpZGF0ZVBheWxvYWQodmFsaWRhdG9yLCByZXEuYm9keSk7XHJcbiAgaWYgKGVycm9yKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oZXJyb3IuZGV0YWlscyk7XHJcbiAgfVxyXG4gIHJldHVybiBuZXh0KCk7XHJcbn07XHJcbiJdfQ==