function cov_2o6tzdp58a(){var path="/vagrant/continuum/core/src/common/helpers/exportModels.js";var hash="8f062f75fbe96d85a8b72bed241df0e8cb64f9c6";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/vagrant/continuum/core/src/common/helpers/exportModels.js",statementMap:{"0":{start:{line:1,column:11},end:{line:1,column:24}},"1":{start:{line:2,column:13},end:{line:2,column:28}},"2":{start:{line:3,column:18},end:{line:3,column:38}},"3":{start:{line:5,column:12},end:{line:5,column:49}},"4":{start:{line:7,column:0},end:{line:42,column:2}},"5":{start:{line:9,column:17},end:{line:9,column:56}},"6":{start:{line:11,column:13},end:{line:11,column:15}},"7":{start:{line:14,column:2},end:{line:18,column:3}},"8":{start:{line:15,column:4},end:{line:15,column:76}},"9":{start:{line:17,column:4},end:{line:17,column:89}},"10":{start:{line:19,column:2},end:{line:37,column:17}},"11":{start:{line:20,column:8},end:{line:30,column:11}},"12":{start:{line:22,column:12},end:{line:22,column:71}},"13":{start:{line:25,column:23},end:{line:25,column:56}},"14":{start:{line:26,column:12},end:{line:29,column:13}},"15":{start:{line:27,column:30},end:{line:27,column:64}},"16":{start:{line:28,column:18},end:{line:28,column:53}},"17":{start:{line:32,column:8},end:{line:36,column:11}},"18":{start:{line:33,column:12},end:{line:35,column:13}},"19":{start:{line:34,column:14},end:{line:34,column:42}},"20":{start:{line:39,column:2},end:{line:39,column:27}},"21":{start:{line:40,column:2},end:{line:40,column:27}},"22":{start:{line:41,column:2},end:{line:41,column:12}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:17},end:{line:7,column:18}},loc:{start:{line:7,column:30},end:{line:42,column:1}},line:7},"1":{name:"(anonymous_1)",decl:{start:{line:21,column:20},end:{line:21,column:21}},loc:{start:{line:21,column:30},end:{line:23,column:13}},line:21},"2":{name:"(anonymous_2)",decl:{start:{line:24,column:21},end:{line:24,column:22}},loc:{start:{line:24,column:31},end:{line:30,column:9}},line:24},"3":{name:"(anonymous_3)",decl:{start:{line:32,column:32},end:{line:32,column:33}},loc:{start:{line:32,column:47},end:{line:36,column:9}},line:32}},branchMap:{"0":{loc:{start:{line:5,column:12},end:{line:5,column:49}},type:"binary-expr",locations:[{start:{line:5,column:12},end:{line:5,column:32}},{start:{line:5,column:36},end:{line:5,column:49}}],line:5},"1":{loc:{start:{line:14,column:2},end:{line:18,column:3}},type:"if",locations:[{start:{line:14,column:2},end:{line:18,column:3}},{start:{line:14,column:2},end:{line:18,column:3}}],line:14},"2":{loc:{start:{line:22,column:19},end:{line:22,column:70}},type:"binary-expr",locations:[{start:{line:22,column:19},end:{line:22,column:42}},{start:{line:22,column:46},end:{line:22,column:70}}],line:22},"3":{loc:{start:{line:26,column:12},end:{line:29,column:13}},type:"if",locations:[{start:{line:26,column:12},end:{line:29,column:13}},{start:{line:26,column:12},end:{line:29,column:13}}],line:26},"4":{loc:{start:{line:33,column:12},end:{line:35,column:13}},type:"if",locations:[{start:{line:33,column:12},end:{line:35,column:13}},{start:{line:33,column:12},end:{line:35,column:13}}],line:33}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8f062f75fbe96d85a8b72bed241df0e8cb64f9c6"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2o6tzdp58a=function(){return actualCoverage;};}return actualCoverage;}cov_2o6tzdp58a();const fs=(cov_2o6tzdp58a().s[0]++,require('fs'));const path=(cov_2o6tzdp58a().s[1]++,require('path'));const Sequelize=(cov_2o6tzdp58a().s[2]++,require('sequelize'));const env=(cov_2o6tzdp58a().s[3]++,(cov_2o6tzdp58a().b[0][0]++,process.env.NODE_ENV)||(cov_2o6tzdp58a().b[0][1]++,'development'));cov_2o6tzdp58a().s[4]++;module.exports=dirname=>{cov_2o6tzdp58a().f[0]++;const config=(cov_2o6tzdp58a().s[5]++,require('config/sequalize.config')[env]);const db=(cov_2o6tzdp58a().s[6]++,{});let sequelize;cov_2o6tzdp58a().s[7]++;if(config.use_env_variable){cov_2o6tzdp58a().b[1][0]++;cov_2o6tzdp58a().s[8]++;sequelize=new Sequelize(process.env[config.use_env_variable],config);}else{cov_2o6tzdp58a().b[1][1]++;cov_2o6tzdp58a().s[9]++;sequelize=new Sequelize(config.database,config.username,config.password,config);}cov_2o6tzdp58a().s[10]++;try{cov_2o6tzdp58a().s[11]++;fs.readdirSync(dirname).filter(file=>{cov_2o6tzdp58a().f[1]++;cov_2o6tzdp58a().s[12]++;return(cov_2o6tzdp58a().b[2][0]++,file.indexOf('.')!==0)&&(cov_2o6tzdp58a().b[2][1]++,file.slice(-3)==='.js');}).forEach(file=>{cov_2o6tzdp58a().f[2]++;const ms=(cov_2o6tzdp58a().s[13]++,require(path.join(dirname,file)));cov_2o6tzdp58a().s[14]++;if(typeof ms!=undefined){cov_2o6tzdp58a().b[3][0]++;const model=(cov_2o6tzdp58a().s[15]++,ms(sequelize,Sequelize.DataTypes));cov_2o6tzdp58a().s[16]++;db[`${model.name}PgModel`]=model;}else{cov_2o6tzdp58a().b[3][1]++;}});cov_2o6tzdp58a().s[17]++;Object.keys(db).forEach(modelName=>{cov_2o6tzdp58a().f[3]++;cov_2o6tzdp58a().s[18]++;if(db[modelName].associate){cov_2o6tzdp58a().b[4][0]++;cov_2o6tzdp58a().s[19]++;db[modelName].associate(db);}else{cov_2o6tzdp58a().b[4][1]++;}});}catch(err){}cov_2o6tzdp58a().s[20]++;db.sequelize=sequelize;cov_2o6tzdp58a().s[21]++;db.Sequelize=Sequelize;cov_2o6tzdp58a().s[22]++;return db;};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4cG9ydE1vZGVscy5qcyJdLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwYXRoIiwiU2VxdWVsaXplIiwiZW52IiwicHJvY2VzcyIsIk5PREVfRU5WIiwibW9kdWxlIiwiZXhwb3J0cyIsImRpcm5hbWUiLCJjb25maWciLCJkYiIsInNlcXVlbGl6ZSIsInVzZV9lbnZfdmFyaWFibGUiLCJkYXRhYmFzZSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJyZWFkZGlyU3luYyIsImZpbHRlciIsImZpbGUiLCJpbmRleE9mIiwic2xpY2UiLCJmb3JFYWNoIiwibXMiLCJqb2luIiwidW5kZWZpbmVkIiwibW9kZWwiLCJEYXRhVHlwZXMiLCJuYW1lIiwiT2JqZWN0Iiwia2V5cyIsIm1vZGVsTmFtZSIsImFzc29jaWF0ZSIsImVyciJdLCJtYXBwaW5ncyI6IitsSEFlWTsyRkFmWixLQUFNQSxDQUFBQSxFQUFFLDBCQUFHQyxPQUFPLENBQUMsSUFBRCxDQUFWLENBQVIsQ0FDQSxLQUFNQyxDQUFBQSxJQUFJLDBCQUFHRCxPQUFPLENBQUMsTUFBRCxDQUFWLENBQVYsQ0FDQSxLQUFNRSxDQUFBQSxTQUFTLDBCQUFHRixPQUFPLENBQUMsV0FBRCxDQUFWLENBQWYsQ0FFQSxLQUFNRyxDQUFBQSxHQUFHLDBCQUFHLDRCQUFBQyxPQUFPLENBQUNELEdBQVIsQ0FBWUUsUUFBWiwrQkFBd0IsYUFBeEIsQ0FBSCxDQUFULEMsd0JBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxDQUFrQkMsT0FBRCxFQUFhLHlCQUU1QixLQUFNQyxDQUFBQSxNQUFNLDBCQUFHVCxPQUFPLENBQUMseUJBQUQsQ0FBUCxDQUFtQ0csR0FBbkMsQ0FBSCxDQUFaLENBRUEsS0FBTU8sQ0FBQUEsRUFBRSwwQkFBRyxFQUFILENBQVIsQ0FFQSxHQUFJQyxDQUFBQSxTQUFKLENBTjRCLHdCQU81QixHQUFJRixNQUFNLENBQUNHLGdCQUFYLENBQTZCLG9EQUMzQkQsU0FBUyxDQUFHLEdBQUlULENBQUFBLFNBQUosQ0FBY0UsT0FBTyxDQUFDRCxHQUFSLENBQVlNLE1BQU0sQ0FBQ0csZ0JBQW5CLENBQWQsQ0FBb0RILE1BQXBELENBQVosQ0FDRCxDQUZELElBRU8sb0RBQ0xFLFNBQVMsQ0FBRyxHQUFJVCxDQUFBQSxTQUFKLENBQWNPLE1BQU0sQ0FBQ0ksUUFBckIsQ0FBK0JKLE1BQU0sQ0FBQ0ssUUFBdEMsQ0FBZ0RMLE1BQU0sQ0FBQ00sUUFBdkQsQ0FBaUVOLE1BQWpFLENBQVosQ0FDRCxDQVgyQix5QkFZNUIsR0FBRywwQkFDR1YsRUFBRSxDQUFDaUIsV0FBSCxDQUFlUixPQUFmLEVBQ0tTLE1BREwsQ0FDYUMsSUFBRCxFQUFVLGtEQUNsQixNQUFPLDRCQUFBQSxJQUFJLENBQUNDLE9BQUwsQ0FBYSxHQUFiLElBQXNCLENBQXRCLCtCQUEyQkQsSUFBSSxDQUFDRSxLQUFMLENBQVcsQ0FBQyxDQUFaLElBQW1CLEtBQTlDLENBQVAsQ0FDQyxDQUhMLEVBSUtDLE9BSkwsQ0FJY0gsSUFBRCxFQUFVLHlCQUNuQixLQUFNSSxDQUFBQSxFQUFFLDJCQUFHdEIsT0FBTyxDQUFDQyxJQUFJLENBQUNzQixJQUFMLENBQVVmLE9BQVYsQ0FBbUJVLElBQW5CLENBQUQsQ0FBVixDQUFSLENBRG1CLHlCQUVuQixHQUFHLE1BQU9JLENBQUFBLEVBQVAsRUFBYUUsU0FBaEIsQ0FBMEIsNEJBQ3RCLEtBQU1DLENBQUFBLEtBQUssMkJBQUdILEVBQUUsQ0FBQ1gsU0FBRCxDQUFZVCxTQUFTLENBQUN3QixTQUF0QixDQUFMLENBQVgsQ0FEc0IseUJBRXBCaEIsRUFBRSxDQUFFLEdBQUVlLEtBQUssQ0FBQ0UsSUFBSyxTQUFmLENBQUYsQ0FBNkJGLEtBQTdCLENBQ0wsQ0FIRCxpQ0FJSCxDQVZELEVBREgseUJBYUdHLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZbkIsRUFBWixFQUFnQlcsT0FBaEIsQ0FBeUJTLFNBQUQsRUFBZSxrREFDbkMsR0FBSXBCLEVBQUUsQ0FBQ29CLFNBQUQsQ0FBRixDQUFjQyxTQUFsQixDQUE2QixxREFDM0JyQixFQUFFLENBQUNvQixTQUFELENBQUYsQ0FBY0MsU0FBZCxDQUF3QnJCLEVBQXhCLEVBQ0QsQ0FGRCxpQ0FHSCxDQUpELEVBS0gsT0FBTXNCLEdBQU4sQ0FBVSxDQUFFLENBOUJhLHlCQWdDNUJ0QixFQUFFLENBQUNDLFNBQUgsQ0FBZUEsU0FBZixDQWhDNEIseUJBaUM1QkQsRUFBRSxDQUFDUixTQUFILENBQWVBLFNBQWYsQ0FqQzRCLHlCQWtDNUIsTUFBT1EsQ0FBQUEsRUFBUCxDQUNELENBbkNEIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xyXG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xyXG5jb25zdCBTZXF1ZWxpemUgPSByZXF1aXJlKCdzZXF1ZWxpemUnKTtcclxuXHJcbmNvbnN0IGVudiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WIHx8ICdkZXZlbG9wbWVudCc7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IChkaXJuYW1lKSA9PiB7XHJcblxyXG4gIGNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoJ2NvbmZpZy9zZXF1YWxpemUuY29uZmlnJylbZW52XTtcclxuXHJcbiAgY29uc3QgZGIgPSB7fTtcclxuXHJcbiAgbGV0IHNlcXVlbGl6ZTtcclxuICBpZiAoY29uZmlnLnVzZV9lbnZfdmFyaWFibGUpIHtcclxuICAgIHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUocHJvY2Vzcy5lbnZbY29uZmlnLnVzZV9lbnZfdmFyaWFibGVdLCBjb25maWcpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzZXF1ZWxpemUgPSBuZXcgU2VxdWVsaXplKGNvbmZpZy5kYXRhYmFzZSwgY29uZmlnLnVzZXJuYW1lLCBjb25maWcucGFzc3dvcmQsIGNvbmZpZyk7XHJcbiAgfVxyXG4gIHRyeXtcclxuICAgICAgICBmcy5yZWFkZGlyU3luYyhkaXJuYW1lKVxyXG4gICAgICAgICAgICAuZmlsdGVyKChmaWxlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBmaWxlLmluZGV4T2YoJy4nKSAhPT0gMCAmJiBmaWxlLnNsaWNlKC0zKSA9PT0gJy5qcyc7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKChmaWxlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1zID0gcmVxdWlyZShwYXRoLmpvaW4oZGlybmFtZSwgZmlsZSkpO1xyXG4gICAgICAgICAgICBpZih0eXBlb2YgbXMgIT0gdW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVsID0gbXMoc2VxdWVsaXplLCBTZXF1ZWxpemUuRGF0YVR5cGVzKTtcclxuICAgICAgICAgICAgICAgICAgZGJbYCR7bW9kZWwubmFtZX1QZ01vZGVsYF0gPSBtb2RlbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBPYmplY3Qua2V5cyhkYikuZm9yRWFjaCgobW9kZWxOYW1lKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkYlttb2RlbE5hbWVdLmFzc29jaWF0ZSkge1xyXG4gICAgICAgICAgICAgIGRiW21vZGVsTmFtZV0uYXNzb2NpYXRlKGRiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfWNhdGNoKGVycil7fVxyXG4gIFxyXG4gIGRiLnNlcXVlbGl6ZSA9IHNlcXVlbGl6ZTtcclxuICBkYi5TZXF1ZWxpemUgPSBTZXF1ZWxpemU7XHJcbiAgcmV0dXJuIGRiO1xyXG59OyJdfQ==