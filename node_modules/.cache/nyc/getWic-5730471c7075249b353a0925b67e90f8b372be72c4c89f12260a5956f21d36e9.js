function cov_1oia63x43x(){var path="/vagrant/continuum/core/src/modules/evaluation/middlewares/wic/getWic.js";var hash="3fd472972055c0ffd03854a5c816be1e795b23c0";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/vagrant/continuum/core/src/modules/evaluation/middlewares/wic/getWic.js",statementMap:{"0":{start:{line:1,column:34},end:{line:1,column:104}},"1":{start:{line:2,column:24},end:{line:2,column:84}},"2":{start:{line:4,column:15},end:{line:13,column:1}},"3":{start:{line:5,column:17},end:{line:5,column:50}},"4":{start:{line:7,column:20},end:{line:7,column:26}},"5":{start:{line:8,column:2},end:{line:10,column:3}},"6":{start:{line:9,column:4},end:{line:9,column:29}},"7":{start:{line:11,column:28},end:{line:11,column:62}},"8":{start:{line:12,column:2},end:{line:12,column:63}},"9":{start:{line:14,column:19},end:{line:26,column:1}},"10":{start:{line:14,column:44},end:{line:26,column:1}},"11":{start:{line:15,column:2},end:{line:24,column:3}},"12":{start:{line:16,column:14},end:{line:16,column:50}},"13":{start:{line:17,column:22},end:{line:17,column:23}},"14":{start:{line:18,column:4},end:{line:18,column:40}},"15":{start:{line:18,column:16},end:{line:18,column:40}},"16":{start:{line:19,column:42},end:{line:19,column:43}},"17":{start:{line:20,column:4},end:{line:20,column:38}},"18":{start:{line:23,column:4},end:{line:23,column:12}},"19":{start:{line:28,column:0},end:{line:31,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:4,column:15},end:{line:4,column:16}},loc:{start:{line:4,column:45},end:{line:13,column:1}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:14,column:19},end:{line:14,column:20}},loc:{start:{line:14,column:44},end:{line:26,column:1}},line:14},"2":{name:"(anonymous_2)",decl:{start:{line:14,column:44},end:{line:14,column:45}},loc:{start:{line:14,column:70},end:{line:26,column:1}},line:14}},branchMap:{"0":{loc:{start:{line:8,column:2},end:{line:10,column:3}},type:"if",locations:[{start:{line:8,column:2},end:{line:10,column:3}},{start:{line:8,column:2},end:{line:10,column:3}}],line:8},"1":{loc:{start:{line:18,column:4},end:{line:18,column:40}},type:"if",locations:[{start:{line:18,column:4},end:{line:18,column:40}},{start:{line:18,column:4},end:{line:18,column:40}}],line:18}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3fd472972055c0ffd03854a5c816be1e795b23c0"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1oia63x43x=function(){return actualCoverage;};}return actualCoverage;}cov_1oia63x43x();const{getResponseFromWicApi}=(cov_1oia63x43x().s[0]++,require('modules/evaluation/middlewares/wic/fn/getResponseFromWicApi'));const{validateWic}=(cov_1oia63x43x().s[1]++,require('modules/evaluation/middlewares/wic/fn/validateWic'));cov_1oia63x43x().s[2]++;const getWic=async(dependencies,body)=>{cov_1oia63x43x().f[0]++;const result=(cov_1oia63x43x().s[3]++,await getResponseFromWicApi(body));const{error}=(cov_1oia63x43x().s[4]++,result);cov_1oia63x43x().s[5]++;if(error){cov_1oia63x43x().b[0][0]++;cov_1oia63x43x().s[6]++;return{result,error};}else{cov_1oia63x43x().b[0][1]++;}const resultWicValidate=(cov_1oia63x43x().s[7]++,await validateWic(result.response));cov_1oia63x43x().s[8]++;return{resultWicValidate,result:result.response,error};};cov_1oia63x43x().s[9]++;const getHttpWic=(dependencies,stage)=>{cov_1oia63x43x().f[1]++;cov_1oia63x43x().s[10]++;return async(req,res,next)=>{cov_1oia63x43x().f[2]++;cov_1oia63x43x().s[11]++;try{const r=(cov_1oia63x43x().s[12]++,await getWic(dependencies,req.body));const{error}=(cov_1oia63x43x().s[13]++,r);cov_1oia63x43x().s[14]++;if(error){cov_1oia63x43x().b[1][0]++;cov_1oia63x43x().s[15]++;res.status(400).json(r);}else{cov_1oia63x43x().b[1][1]++;}const{resultWicValidate,result}=(cov_1oia63x43x().s[16]++,r);cov_1oia63x43x().s[17]++;next({resultWicValidate,result});}catch(e){cov_1oia63x43x().s[18]++;next(e);}};};cov_1oia63x43x().s[19]++;module.exports={getWic,getHttpWic};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldFdpYy5qcyJdLCJuYW1lcyI6WyJnZXRSZXNwb25zZUZyb21XaWNBcGkiLCJyZXF1aXJlIiwidmFsaWRhdGVXaWMiLCJnZXRXaWMiLCJkZXBlbmRlbmNpZXMiLCJib2R5IiwicmVzdWx0IiwiZXJyb3IiLCJyZXN1bHRXaWNWYWxpZGF0ZSIsInJlc3BvbnNlIiwiZ2V0SHR0cFdpYyIsInN0YWdlIiwicmVxIiwicmVzIiwibmV4dCIsInIiLCJzdGF0dXMiLCJqc29uIiwiZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJtcUZBZVk7MkZBZlosS0FBTSxDQUFFQSxxQkFBRiwyQkFBNEJDLE9BQU8sQ0FBQyw2REFBRCxDQUFuQyxDQUFOLENBQ0EsS0FBTSxDQUFFQyxXQUFGLDJCQUFrQkQsT0FBTyxDQUFDLG1EQUFELENBQXpCLENBQU4sQyx3QkFFQSxLQUFNRSxDQUFBQSxNQUFNLENBQUcsTUFBT0MsWUFBUCxDQUFxQkMsSUFBckIsR0FBOEIseUJBQzNDLEtBQU1DLENBQUFBLE1BQU0sMEJBQUcsS0FBTU4sQ0FBQUEscUJBQXFCLENBQUNLLElBQUQsQ0FBOUIsQ0FBWixDQUVBLEtBQU0sQ0FBRUUsS0FBRiwyQkFBWUQsTUFBWixDQUFOLENBSDJDLHdCQUkzQyxHQUFJQyxLQUFKLENBQVcsb0RBQ1QsTUFBTyxDQUFFRCxNQUFGLENBQVVDLEtBQVYsQ0FBUCxDQUNELENBRkQsaUNBR0EsS0FBTUMsQ0FBQUEsaUJBQWlCLDBCQUFHLEtBQU1OLENBQUFBLFdBQVcsQ0FBQ0ksTUFBTSxDQUFDRyxRQUFSLENBQXBCLENBQXZCLENBUDJDLHdCQVEzQyxNQUFPLENBQUVELGlCQUFGLENBQXFCRixNQUFNLENBQUVBLE1BQU0sQ0FBQ0csUUFBcEMsQ0FBOENGLEtBQTlDLENBQVAsQ0FDRCxDQVRELEMsd0JBVUEsS0FBTUcsQ0FBQUEsVUFBVSxDQUFHLENBQUNOLFlBQUQsQ0FBZU8sS0FBZixHQUF5QiwrREFBT0MsR0FBUCxDQUFZQyxHQUFaLENBQWlCQyxJQUFqQixHQUEwQixrREFDcEUsR0FBSSxDQUNGLEtBQU1DLENBQUFBLENBQUMsMkJBQUcsS0FBTVosQ0FBQUEsTUFBTSxDQUFDQyxZQUFELENBQWVRLEdBQUcsQ0FBQ1AsSUFBbkIsQ0FBZixDQUFQLENBQ0EsS0FBTSxDQUFFRSxLQUFGLDRCQUFZUSxDQUFaLENBQU4sQ0FGRSx5QkFHRixHQUFJUixLQUFKLENBQVkscURBQUFNLEdBQUcsQ0FBQ0csTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCRixDQUFyQixFQUF3QixDQUFwQyxpQ0FDQSxLQUFNLENBQUVQLGlCQUFGLENBQXFCRixNQUFyQiw0QkFBZ0NTLENBQWhDLENBQU4sQ0FKRSx5QkFLRkQsSUFBSSxDQUFDLENBQUNOLGlCQUFELENBQW9CRixNQUFwQixDQUFELENBQUosQ0FFRCxDQUFDLE1BQU9ZLENBQVAsQ0FBVSwwQkFDVkosSUFBSSxDQUFDSSxDQUFELENBQUosQ0FDRCxDQUVGLENBWjJDLENBWTNDLENBWkQsQyx5QkFjQUMsTUFBTSxDQUFDQyxPQUFQLENBQWlCLENBQ2ZqQixNQURlLENBRWZPLFVBRmUsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IGdldFJlc3BvbnNlRnJvbVdpY0FwaSB9ID0gcmVxdWlyZSgnbW9kdWxlcy9ldmFsdWF0aW9uL21pZGRsZXdhcmVzL3dpYy9mbi9nZXRSZXNwb25zZUZyb21XaWNBcGknKTtcclxuY29uc3QgeyB2YWxpZGF0ZVdpYyB9ID0gcmVxdWlyZSgnbW9kdWxlcy9ldmFsdWF0aW9uL21pZGRsZXdhcmVzL3dpYy9mbi92YWxpZGF0ZVdpYycpO1xyXG5cclxuY29uc3QgZ2V0V2ljID0gYXN5bmMgKGRlcGVuZGVuY2llcywgYm9keSkgPT4ge1xyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldFJlc3BvbnNlRnJvbVdpY0FwaShib2R5KTtcclxuXHJcbiAgY29uc3QgeyBlcnJvciB9ID0gcmVzdWx0O1xyXG4gIGlmIChlcnJvcikge1xyXG4gICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvciB9O1xyXG4gIH1cclxuICBjb25zdCByZXN1bHRXaWNWYWxpZGF0ZSA9IGF3YWl0IHZhbGlkYXRlV2ljKHJlc3VsdC5yZXNwb25zZSk7XHJcbiAgcmV0dXJuIHsgcmVzdWx0V2ljVmFsaWRhdGUsIHJlc3VsdDogcmVzdWx0LnJlc3BvbnNlLCBlcnJvciB9O1xyXG59O1xyXG5jb25zdCBnZXRIdHRwV2ljID0gKGRlcGVuZGVuY2llcywgc3RhZ2UpID0+IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByID0gYXdhaXQgZ2V0V2ljKGRlcGVuZGVuY2llcywgcmVxLmJvZHkpO1xyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gcjtcclxuICAgIGlmIChlcnJvcikgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHIpO1xyXG4gICAgY29uc3QgeyByZXN1bHRXaWNWYWxpZGF0ZSwgcmVzdWx0IH0gPSByO1xyXG4gICAgbmV4dCh7cmVzdWx0V2ljVmFsaWRhdGUsIHJlc3VsdH0pO1xyXG5cclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBuZXh0KGUpO1xyXG4gIH1cclxuICBcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGdldFdpYyxcclxuICBnZXRIdHRwV2ljLFxyXG59O1xyXG4iXX0=