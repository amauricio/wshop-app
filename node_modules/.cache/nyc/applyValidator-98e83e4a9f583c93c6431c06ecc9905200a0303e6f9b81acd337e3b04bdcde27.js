function cov_zuo7813gu(){var path="/vagrant/continuum/core/src/modules/simulation/middlewares/core/applyValidator.js";var hash="bc92c84c322f10226851577f7f812f55d53e9d8e";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/vagrant/continuum/core/src/modules/simulation/middlewares/core/applyValidator.js",statementMap:{"0":{start:{line:1,column:12},end:{line:1,column:26}},"1":{start:{line:2,column:16},end:{line:2,column:41}},"2":{start:{line:3,column:34},end:{line:3,column:67}},"3":{start:{line:5,column:0},end:{line:47,column:2}},"4":{start:{line:5,column:35},end:{line:47,column:1}},"5":{start:{line:6,column:14},end:{line:9,column:4}},"6":{start:{line:10,column:20},end:{line:40,column:4}},"7":{start:{line:42,column:27},end:{line:42,column:71}},"8":{start:{line:43,column:2},end:{line:45,column:3}},"9":{start:{line:44,column:4},end:{line:44,column:68}},"10":{start:{line:46,column:2},end:{line:46,column:16}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:17},end:{line:5,column:18}},loc:{start:{line:5,column:35},end:{line:47,column:1}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:5,column:35},end:{line:5,column:36}},loc:{start:{line:5,column:61},end:{line:47,column:1}},line:5}},branchMap:{"0":{loc:{start:{line:43,column:2},end:{line:45,column:3}},type:"if",locations:[{start:{line:43,column:2},end:{line:45,column:3}},{start:{line:43,column:2},end:{line:45,column:3}}],line:43}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},f:{"0":0,"1":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"bc92c84c322f10226851577f7f812f55d53e9d8e"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_zuo7813gu=function(){return actualCoverage;};}return actualCoverage;}cov_zuo7813gu();const Joi=(cov_zuo7813gu().s[0]++,require('joi'));const helpers=(cov_zuo7813gu().s[1]++,require('common/helpers'));const{RestException,errors}=(cov_zuo7813gu().s[2]++,require('modules/rest.exception'));cov_zuo7813gu().s[3]++;module.exports=dependencies=>{cov_zuo7813gu().f[0]++;cov_zuo7813gu().s[4]++;return async(req,res,next)=>{cov_zuo7813gu().f[1]++;const mod=(cov_zuo7813gu().s[5]++,Joi.object().keys({paymentNumber:Joi.number(),payment:Joi.number()}));const validator=(cov_zuo7813gu().s[6]++,Joi.object({transactionId:Joi.string().required(),sellerIdentificationValue:Joi.string().required(),amicarExecutiveIdentificationValue:Joi.string().required(),customer:Joi.object({identificationTypeId:Joi.number().required(),identificationValue:Joi.string().required(),rut:Joi.string(),email:Joi.string(),phone:Joi.string()}),vehicle:Joi.object({type:Joi.string(),price:Joi.number()}),loan:Joi.object({type:Joi.string(),downPayment:Joi.number(),accessories:Joi.number(),tradeInCarValue:Joi.number(),term:Joi.number(),startDate:Joi.string(),firstDueDate:Joi.string(),rateType:Joi.string(),saleChannel:Joi.string(),saleChannelType:Joi.string(),salesRoomId:Joi.number(),immediateOption:Joi.boolean(),modifyTerm:Joi.array().items(mod)})}));const{error,value}=(cov_zuo7813gu().s[7]++,helpers.validatePayload(validator,req.body));cov_zuo7813gu().s[8]++;if(error){cov_zuo7813gu().b[0][0]++;cov_zuo7813gu().s[9]++;throw new RestException(errors.ERROR_VALIDATION,error.details);}else{cov_zuo7813gu().b[0][1]++;}cov_zuo7813gu().s[10]++;return next();};};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcGx5VmFsaWRhdG9yLmpzIl0sIm5hbWVzIjpbIkpvaSIsInJlcXVpcmUiLCJoZWxwZXJzIiwiUmVzdEV4Y2VwdGlvbiIsImVycm9ycyIsIm1vZHVsZSIsImV4cG9ydHMiLCJkZXBlbmRlbmNpZXMiLCJyZXEiLCJyZXMiLCJuZXh0IiwibW9kIiwib2JqZWN0Iiwia2V5cyIsInBheW1lbnROdW1iZXIiLCJudW1iZXIiLCJwYXltZW50IiwidmFsaWRhdG9yIiwidHJhbnNhY3Rpb25JZCIsInN0cmluZyIsInJlcXVpcmVkIiwic2VsbGVySWRlbnRpZmljYXRpb25WYWx1ZSIsImFtaWNhckV4ZWN1dGl2ZUlkZW50aWZpY2F0aW9uVmFsdWUiLCJjdXN0b21lciIsImlkZW50aWZpY2F0aW9uVHlwZUlkIiwiaWRlbnRpZmljYXRpb25WYWx1ZSIsInJ1dCIsImVtYWlsIiwicGhvbmUiLCJ2ZWhpY2xlIiwidHlwZSIsInByaWNlIiwibG9hbiIsImRvd25QYXltZW50IiwiYWNjZXNzb3JpZXMiLCJ0cmFkZUluQ2FyVmFsdWUiLCJ0ZXJtIiwic3RhcnREYXRlIiwiZmlyc3REdWVEYXRlIiwicmF0ZVR5cGUiLCJzYWxlQ2hhbm5lbCIsInNhbGVDaGFubmVsVHlwZSIsInNhbGVzUm9vbUlkIiwiaW1tZWRpYXRlT3B0aW9uIiwiYm9vbGVhbiIsIm1vZGlmeVRlcm0iLCJhcnJheSIsIml0ZW1zIiwiZXJyb3IiLCJ2YWx1ZSIsInZhbGlkYXRlUGF5bG9hZCIsImJvZHkiLCJFUlJPUl9WQUxJREFUSU9OIiwiZGV0YWlscyJdLCJtYXBwaW5ncyI6InN4REFlWTt5RkFmWixLQUFNQSxDQUFBQSxHQUFHLHlCQUFHQyxPQUFPLENBQUMsS0FBRCxDQUFWLENBQVQsQ0FDQSxLQUFNQyxDQUFBQSxPQUFPLHlCQUFHRCxPQUFPLENBQUMsZ0JBQUQsQ0FBVixDQUFiLENBQ0EsS0FBTSxDQUFFRSxhQUFGLENBQWlCQyxNQUFqQiwwQkFBNEJILE9BQU8sQ0FBQyx3QkFBRCxDQUFuQyxDQUFO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dGVudCI6WyJjb25zdCBKb2kgPSByZXF1aXJlKCdqb2knKTtcclxuY29uc3QgaGVscGVycyA9IHJlcXVpcmUoJ2NvbW1vbi9oZWxwZXJzJyk7XHJcbmNvbnN0IHsgUmVzdEV4Y2VwdGlvbiwgZXJyb3JzIH0gPSByZXF1aXJlKCdtb2R1bGVzL3Jlc3QuZXhjZXB0aW9uJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IChkZXBlbmRlbmNpZXMpID0+IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIGNvbnN0IG1vZCA9IEpvaS5vYmplY3QoKS5rZXlzKHtcclxuICAgIHBheW1lbnROdW1iZXI6IEpvaS5udW1iZXIoKSxcclxuICAgIHBheW1lbnQ6IEpvaS5udW1iZXIoKSxcclxuICB9KTtcclxuICBjb25zdCB2YWxpZGF0b3IgPSBKb2kub2JqZWN0KHtcclxuICAgIHRyYW5zYWN0aW9uSWQ6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxyXG4gICAgc2VsbGVySWRlbnRpZmljYXRpb25WYWx1ZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXHJcbiAgICBhbWljYXJFeGVjdXRpdmVJZGVudGlmaWNhdGlvblZhbHVlOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcclxuICAgIGN1c3RvbWVyOiBKb2kub2JqZWN0KHtcclxuICAgICAgaWRlbnRpZmljYXRpb25UeXBlSWQ6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxyXG4gICAgICBpZGVudGlmaWNhdGlvblZhbHVlOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcclxuICAgICAgcnV0OiBKb2kuc3RyaW5nKCksXHJcbiAgICAgIGVtYWlsOiBKb2kuc3RyaW5nKCksXHJcbiAgICAgIHBob25lOiBKb2kuc3RyaW5nKCksXHJcbiAgICB9KSxcclxuICAgIHZlaGljbGU6IEpvaS5vYmplY3Qoe1xyXG4gICAgICB0eXBlOiBKb2kuc3RyaW5nKCksXHJcbiAgICAgIHByaWNlOiBKb2kubnVtYmVyKCksXHJcbiAgICB9KSxcclxuICAgIGxvYW46IEpvaS5vYmplY3Qoe1xyXG4gICAgICB0eXBlOiBKb2kuc3RyaW5nKCksXHJcbiAgICAgIGRvd25QYXltZW50OiBKb2kubnVtYmVyKCksXHJcbiAgICAgIGFjY2Vzc29yaWVzOiBKb2kubnVtYmVyKCksXHJcbiAgICAgIHRyYWRlSW5DYXJWYWx1ZTogSm9pLm51bWJlcigpLFxyXG4gICAgICB0ZXJtOiBKb2kubnVtYmVyKCksXHJcbiAgICAgIHN0YXJ0RGF0ZTogSm9pLnN0cmluZygpLFxyXG4gICAgICBmaXJzdER1ZURhdGU6IEpvaS5zdHJpbmcoKSxcclxuICAgICAgcmF0ZVR5cGU6IEpvaS5zdHJpbmcoKSxcclxuICAgICAgc2FsZUNoYW5uZWw6IEpvaS5zdHJpbmcoKSxcclxuICAgICAgc2FsZUNoYW5uZWxUeXBlOiBKb2kuc3RyaW5nKCksXHJcbiAgICAgIHNhbGVzUm9vbUlkOiBKb2kubnVtYmVyKCksXHJcbiAgICAgIGltbWVkaWF0ZU9wdGlvbjogSm9pLmJvb2xlYW4oKSxcclxuICAgICAgbW9kaWZ5VGVybTogSm9pLmFycmF5KCkuaXRlbXMobW9kKSxcclxuICAgIH0pLFxyXG4gIH0pO1xyXG5cclxuICBjb25zdCB7IGVycm9yLCB2YWx1ZSB9ID0gaGVscGVycy52YWxpZGF0ZVBheWxvYWQodmFsaWRhdG9yLCByZXEuYm9keSk7XHJcbiAgaWYgKGVycm9yKSB7XHJcbiAgICB0aHJvdyBuZXcgUmVzdEV4Y2VwdGlvbihlcnJvcnMuRVJST1JfVkFMSURBVElPTiwgZXJyb3IuZGV0YWlscyk7XHJcbiAgfVxyXG4gIHJldHVybiBuZXh0KCk7XHJcbn07XHJcbiJdfQ==