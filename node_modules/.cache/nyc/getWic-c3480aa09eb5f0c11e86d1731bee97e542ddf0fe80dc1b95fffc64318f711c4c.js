function cov_1oia63x43x(){var path="/vagrant/continuum/core/src/modules/evaluation/middlewares/wic/getWic.js";var hash="15b44f8b1494a6080b921c2aac9fb8cbf7a4341f";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/vagrant/continuum/core/src/modules/evaluation/middlewares/wic/getWic.js",statementMap:{"0":{start:{line:1,column:34},end:{line:1,column:104}},"1":{start:{line:2,column:24},end:{line:2,column:84}},"2":{start:{line:4,column:15},end:{line:12,column:1}},"3":{start:{line:5,column:17},end:{line:5,column:50}},"4":{start:{line:6,column:20},end:{line:6,column:26}},"5":{start:{line:7,column:2},end:{line:9,column:3}},"6":{start:{line:8,column:4},end:{line:8,column:29}},"7":{start:{line:10,column:28},end:{line:10,column:62}},"8":{start:{line:11,column:2},end:{line:11,column:63}},"9":{start:{line:13,column:19},end:{line:20,column:1}},"10":{start:{line:13,column:44},end:{line:20,column:1}},"11":{start:{line:14,column:12},end:{line:14,column:48}},"12":{start:{line:15,column:20},end:{line:15,column:21}},"13":{start:{line:16,column:2},end:{line:16,column:38}},"14":{start:{line:16,column:14},end:{line:16,column:38}},"15":{start:{line:17,column:40},end:{line:17,column:41}},"16":{start:{line:19,column:2},end:{line:19,column:40}},"17":{start:{line:22,column:0},end:{line:25,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:4,column:15},end:{line:4,column:16}},loc:{start:{line:4,column:45},end:{line:12,column:1}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:13,column:19},end:{line:13,column:20}},loc:{start:{line:13,column:44},end:{line:20,column:1}},line:13},"2":{name:"(anonymous_2)",decl:{start:{line:13,column:44},end:{line:13,column:45}},loc:{start:{line:13,column:70},end:{line:20,column:1}},line:13}},branchMap:{"0":{loc:{start:{line:7,column:2},end:{line:9,column:3}},type:"if",locations:[{start:{line:7,column:2},end:{line:9,column:3}},{start:{line:7,column:2},end:{line:9,column:3}}],line:7},"1":{loc:{start:{line:16,column:2},end:{line:16,column:38}},type:"if",locations:[{start:{line:16,column:2},end:{line:16,column:38}},{start:{line:16,column:2},end:{line:16,column:38}}],line:16}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"15b44f8b1494a6080b921c2aac9fb8cbf7a4341f"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1oia63x43x=function(){return actualCoverage;};}return actualCoverage;}cov_1oia63x43x();const{getResponseFromWicApi}=(cov_1oia63x43x().s[0]++,require('modules/evaluation/middlewares/wic/fn/getResponseFromWicApi'));const{validateWic}=(cov_1oia63x43x().s[1]++,require('modules/evaluation/middlewares/wic/fn/validateWic'));cov_1oia63x43x().s[2]++;const getWic=async(dependencies,body)=>{cov_1oia63x43x().f[0]++;const result=(cov_1oia63x43x().s[3]++,await getResponseFromWicApi(body));const{error}=(cov_1oia63x43x().s[4]++,result);cov_1oia63x43x().s[5]++;if(error){cov_1oia63x43x().b[0][0]++;cov_1oia63x43x().s[6]++;return{result,error};}else{cov_1oia63x43x().b[0][1]++;}const resultWicValidate=(cov_1oia63x43x().s[7]++,await validateWic(result.response));cov_1oia63x43x().s[8]++;return{resultWicValidate,result:result.response,error};};cov_1oia63x43x().s[9]++;const getHttpWic=(dependencies,stage)=>{cov_1oia63x43x().f[1]++;cov_1oia63x43x().s[10]++;return async(req,res,next)=>{cov_1oia63x43x().f[2]++;const r=(cov_1oia63x43x().s[11]++,await getWic(dependencies,req.body));const{error}=(cov_1oia63x43x().s[12]++,r);cov_1oia63x43x().s[13]++;if(error){cov_1oia63x43x().b[1][0]++;cov_1oia63x43x().s[14]++;res.status(400).json(r);}else{cov_1oia63x43x().b[1][1]++;}const{resultWicValidate,result}=(cov_1oia63x43x().s[15]++,r);cov_1oia63x43x().s[16]++;res.json({resultWicValidate,result});};};cov_1oia63x43x().s[17]++;module.exports={getWic,getHttpWic};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldFdpYy5qcyJdLCJuYW1lcyI6WyJnZXRSZXNwb25zZUZyb21XaWNBcGkiLCJyZXF1aXJlIiwidmFsaWRhdGVXaWMiLCJnZXRXaWMiLCJkZXBlbmRlbmNpZXMiLCJib2R5IiwicmVzdWx0IiwiZXJyb3IiLCJyZXN1bHRXaWNWYWxpZGF0ZSIsInJlc3BvbnNlIiwiZ2V0SHR0cFdpYyIsInN0YWdlIiwicmVxIiwicmVzIiwibmV4dCIsInIiLCJzdGF0dXMiLCJqc29uIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6ImtpRkFlWTsyRkFmWixLQUFNLENBQUVBLHFCQUFGLDJCQUE0QkMsT0FBTyxDQUFDLDZEQUFELENBQW5DLENBQU4sQ0FDQSxLQUFNLENBQUVDLFdBQUYsMkJBQWtCRCxPQUFPLENBQUMsbURBQUQsQ0FBekIsQ0FBTixDLHdCQUVBLEtBQU1FLENBQUFBLE1BQU0sQ0FBRyxNQUFPQyxZQUFQLENBQXFCQyxJQUFyQixHQUE4Qix5QkFDM0MsS0FBTUMsQ0FBQUEsTUFBTSwwQkFBRyxLQUFNTixDQUFBQSxxQkFBcUIsQ0FBQ0ssSUFBRCxDQUE5QixDQUFaLENBQ0EsS0FBTSxDQUFFRSxLQUFGLDJCQUFZRCxNQUFaLENBQU4sQ0FGMkMsd0JBRzNDLEdBQUlDLEtBQUosQ0FBVyxvREFDVCxNQUFPLENBQUVELE1BQUYsQ0FBVUMsS0FBVixDQUFQLENBQ0QsQ0FGRCxpQ0FHQSxLQUFNQyxDQUFBQSxpQkFBaUIsMEJBQUcsS0FBTU4sQ0FBQUEsV0FBVyxDQUFDSSxNQUFNLENBQUNHLFFBQVIsQ0FBcEIsQ0FBdkIsQ0FOMkMsd0JBTzNDLE1BQU8sQ0FBRUQsaUJBQUYsQ0FBcUJGLE1BQU0sQ0FBRUEsTUFBTSxDQUFDRyxRQUFwQyxDQUE4Q0YsS0FBOUMsQ0FBUCxDQUNELENBUkQsQyx3QkFTQSxLQUFNRyxDQUFBQSxVQUFVLENBQUcsQ0FBQ04sWUFBRCxDQUFlTyxLQUFmLEdBQXlCLCtEQUFPQyxHQUFQLENBQVlDLEdBQVosQ0FBaUJDLElBQWpCLEdBQTBCLHlCQUNwRSxLQUFNQyxDQUFBQSxDQUFDLDJCQUFHLEtBQU1aLENBQUFBLE1BQU0sQ0FBQ0MsWUFBRCxDQUFlUSxHQUFHLENBQUNQLElBQW5CLENBQWYsQ0FBUCxDQUNBLEtBQU0sQ0FBRUUsS0FBRiw0QkFBWVEsQ0FBWixDQUFOLENBRm9FLHlCQUdwRSxHQUFJUixLQUFKLENBQVkscURBQUFNLEdBQUcsQ0FBQ0csTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCRixDQUFyQixFQUF3QixDQUFwQyxpQ0FDQSxLQUFNLENBQUVQLGlCQUFGLENBQXFCRixNQUFyQiw0QkFBZ0NTLENBQWhDLENBQU4sQ0FKb0UseUJBTXBFRixHQUFHLENBQUNJLElBQUosQ0FBUyxDQUFDVCxpQkFBRCxDQUFvQkYsTUFBcEIsQ0FBVCxFQUNELENBUDJDLENBTzNDLENBUEQsQyx5QkFTQVksTUFBTSxDQUFDQyxPQUFQLENBQWlCLENBQ2ZoQixNQURlLENBRWZPLFVBRmUsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IGdldFJlc3BvbnNlRnJvbVdpY0FwaSB9ID0gcmVxdWlyZSgnbW9kdWxlcy9ldmFsdWF0aW9uL21pZGRsZXdhcmVzL3dpYy9mbi9nZXRSZXNwb25zZUZyb21XaWNBcGknKTtcclxuY29uc3QgeyB2YWxpZGF0ZVdpYyB9ID0gcmVxdWlyZSgnbW9kdWxlcy9ldmFsdWF0aW9uL21pZGRsZXdhcmVzL3dpYy9mbi92YWxpZGF0ZVdpYycpO1xyXG5cclxuY29uc3QgZ2V0V2ljID0gYXN5bmMgKGRlcGVuZGVuY2llcywgYm9keSkgPT4ge1xyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldFJlc3BvbnNlRnJvbVdpY0FwaShib2R5KTtcclxuICBjb25zdCB7IGVycm9yIH0gPSByZXN1bHQ7XHJcbiAgaWYgKGVycm9yKSB7XHJcbiAgICByZXR1cm4geyByZXN1bHQsIGVycm9yIH07XHJcbiAgfVxyXG4gIGNvbnN0IHJlc3VsdFdpY1ZhbGlkYXRlID0gYXdhaXQgdmFsaWRhdGVXaWMocmVzdWx0LnJlc3BvbnNlKTtcclxuICByZXR1cm4geyByZXN1bHRXaWNWYWxpZGF0ZSwgcmVzdWx0OiByZXN1bHQucmVzcG9uc2UsIGVycm9yIH07XHJcbn07XHJcbmNvbnN0IGdldEh0dHBXaWMgPSAoZGVwZW5kZW5jaWVzLCBzdGFnZSkgPT4gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgY29uc3QgciA9IGF3YWl0IGdldFdpYyhkZXBlbmRlbmNpZXMsIHJlcS5ib2R5KTtcclxuICBjb25zdCB7IGVycm9yIH0gPSByO1xyXG4gIGlmIChlcnJvcikgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHIpO1xyXG4gIGNvbnN0IHsgcmVzdWx0V2ljVmFsaWRhdGUsIHJlc3VsdCB9ID0gcjtcclxuICBcclxuICByZXMuanNvbih7cmVzdWx0V2ljVmFsaWRhdGUsIHJlc3VsdH0pO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgZ2V0V2ljLFxyXG4gIGdldEh0dHBXaWMsXHJcbn07XHJcbiJdfQ==