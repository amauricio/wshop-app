function cov_2n7fghtf93(){var path="/vagrant/continuum/core/src/common/helpers/findByModel.js";var hash="e0dc441827e4807afd0e030876bb7e07de9e04e4";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/vagrant/continuum/core/src/common/helpers/findByModel.js",statementMap:{"0":{start:{line:1,column:0},end:{line:13,column:2}},"1":{start:{line:1,column:28},end:{line:13,column:1}},"2":{start:{line:3,column:2},end:{line:12,column:3}},"3":{start:{line:4,column:19},end:{line:4,column:78}},"4":{start:{line:5,column:4},end:{line:5,column:97}},"5":{start:{line:5,column:29},end:{line:5,column:97}},"6":{start:{line:6,column:4},end:{line:6,column:47}},"7":{start:{line:6,column:26},end:{line:6,column:47}},"8":{start:{line:7,column:4},end:{line:8,column:92}},"9":{start:{line:8,column:57},end:{line:8,column:67}},"10":{start:{line:9,column:4},end:{line:9,column:11}},"11":{start:{line:11,column:4},end:{line:11,column:33}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:1,column:17},end:{line:1,column:18}},loc:{start:{line:1,column:28},end:{line:13,column:1}},line:1},"1":{name:"(anonymous_1)",decl:{start:{line:1,column:28},end:{line:1,column:29}},loc:{start:{line:1,column:98},end:{line:13,column:1}},line:1},"2":{name:"(anonymous_2)",decl:{start:{line:8,column:37},end:{line:8,column:38}},loc:{start:{line:8,column:57},end:{line:8,column:67}},line:8}},branchMap:{"0":{loc:{start:{line:5,column:4},end:{line:5,column:97}},type:"if",locations:[{start:{line:5,column:4},end:{line:5,column:97}},{start:{line:5,column:4},end:{line:5,column:97}}],line:5},"1":{loc:{start:{line:6,column:4},end:{line:6,column:47}},type:"if",locations:[{start:{line:6,column:4},end:{line:6,column:47}},{start:{line:6,column:4},end:{line:6,column:47}}],line:6},"2":{loc:{start:{line:8,column:6},end:{line:8,column:91}},type:"cond-expr",locations:[{start:{line:8,column:26},end:{line:8,column:68}},{start:{line:8,column:71},end:{line:8,column:91}}],line:8}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e0dc441827e4807afd0e030876bb7e07de9e04e4"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2n7fghtf93=function(){return actualCoverage;};}return actualCoverage;}cov_2n7fghtf93();cov_2n7fghtf93().s[0]++;module.exports=model=>{cov_2n7fghtf93().f[0]++;cov_2n7fghtf93().s[1]++;return async({key,requiredParamKey,columnNameFind,value,bodyData})=>{cov_2n7fghtf93().f[1]++;cov_2n7fghtf93().s[2]++;try{const dbData=(cov_2n7fghtf93().s[3]++,await model.findAll({where:{[columnNameFind]:value}}));cov_2n7fghtf93().s[4]++;if(dbData.length===0){cov_2n7fghtf93().b[0][0]++;cov_2n7fghtf93().s[5]++;throw new Error(`${requiredParamKey} ${key} value not found in DB`);}else{cov_2n7fghtf93().b[0][1]++;}cov_2n7fghtf93().s[6]++;if(!bodyData.dbData){cov_2n7fghtf93().b[1][0]++;cov_2n7fghtf93().s[7]++;bodyData.dbData={};}else{cov_2n7fghtf93().b[1][1]++;}cov_2n7fghtf93().s[8]++;bodyData.dbData[`${requiredParamKey}-${key}`]=dbData.length>1?(cov_2n7fghtf93().b[2][0]++,dbData.map(({dataValues})=>{cov_2n7fghtf93().f[2]++;cov_2n7fghtf93().s[9]++;return dataValues;})):(cov_2n7fghtf93().b[2][1]++,dbData[0].dataValues);cov_2n7fghtf93().s[10]++;return;}catch(err){cov_2n7fghtf93().s[11]++;throw new Error(err.message);}};};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbmRCeU1vZGVsLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJtb2RlbCIsImtleSIsInJlcXVpcmVkUGFyYW1LZXkiLCJjb2x1bW5OYW1lRmluZCIsInZhbHVlIiwiYm9keURhdGEiLCJkYkRhdGEiLCJmaW5kQWxsIiwid2hlcmUiLCJsZW5ndGgiLCJFcnJvciIsIm1hcCIsImRhdGFWYWx1ZXMiLCJlcnIiLCJtZXNzYWdlIl0sIm1hcHBpbmdzIjoiK3pFQWVZO21IQWZaQSxNQUFNLENBQUNDLE9BQVAsQ0FBa0JDLEtBQUQsRUFBVyw4REFBTyxDQUFFQyxHQUFGLENBQU9DLGdCQUFQLENBQXlCQyxjQUF6QixDQUF5Q0MsS0FBekMsQ0FBZ0RDLFFBQWhELENBQVAsR0FBc0UsaURBRWhHLEdBQUksQ0FDRixLQUFNQyxDQUFBQSxNQUFNLDBCQUFHLEtBQU1OLENBQUFBLEtBQUssQ0FBQ08sT0FBTixDQUFjLENBQUVDLEtBQUssQ0FBRSxDQUFFLENBQUNMLGNBQUQsRUFBa0JDLEtBQXBCLENBQVQsQ0FBZCxDQUFULENBQVosQ0FERSx3QkFFRixHQUFJRSxNQUFNLENBQUNHLE1BQVAsR0FBa0IsQ0FBdEIsQ0FBeUIseURBQU0sSUFBSUMsQ0FBQUEsS0FBSixDQUFXLEdBQUVSLGdCQUFpQixJQUFHRCxHQUFJLHdCQUFyQyxDQUFOLENBQW9FLENBQTdGLGlDQUZFLHdCQUdGLEdBQUksQ0FBQ0ksUUFBUSxDQUFDQyxNQUFkLENBQXNCLG9EQUFBRCxRQUFRLENBQUNDLE1BQVQsQ0FBa0IsRUFBbEIsQ0FBcUIsQ0FBM0MsaUNBSEUsd0JBSUZELFFBQVEsQ0FBQ0MsTUFBVCxDQUFpQixHQUFFSixnQkFBaUIsSUFBR0QsR0FBSSxFQUEzQyxFQUNFSyxNQUFNLENBQUNHLE1BQVAsQ0FBZ0IsQ0FBaEIsNkJBQW9CSCxNQUFNLENBQUNLLEdBQVAsQ0FBVyxDQUFDLENBQUVDLFVBQUYsQ0FBRCxHQUFvQkEsdURBQUFBLENBQUFBLFVBQVUsRUFBekMsQ0FBcEIsOEJBQWlFTixNQUFNLENBQUMsQ0FBRCxDQUFOLENBQVVNLFVBQTNFLENBREYsQ0FKRSx5QkFNRixPQUNELENBQUMsTUFBT0MsR0FBUCxDQUFZLDBCQUNaLEtBQU0sSUFBSUgsQ0FBQUEsS0FBSixDQUFVRyxHQUFHLENBQUNDLE9BQWQsQ0FBTixDQUNELENBQ0YsQ0FaMkIsQ0FZM0IsQ0FaRCIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gKG1vZGVsKSA9PiBhc3luYyAoeyBrZXksIHJlcXVpcmVkUGFyYW1LZXksIGNvbHVtbk5hbWVGaW5kLCB2YWx1ZSwgYm9keURhdGEgfSkgPT4ge1xyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgZGJEYXRhID0gYXdhaXQgbW9kZWwuZmluZEFsbCh7IHdoZXJlOiB7IFtjb2x1bW5OYW1lRmluZF06IHZhbHVlIH0gfSk7XHJcbiAgICBpZiAoZGJEYXRhLmxlbmd0aCA9PT0gMCkgdGhyb3cgbmV3IEVycm9yKGAke3JlcXVpcmVkUGFyYW1LZXl9ICR7a2V5fSB2YWx1ZSBub3QgZm91bmQgaW4gREJgKTtcclxuICAgIGlmICghYm9keURhdGEuZGJEYXRhKSBib2R5RGF0YS5kYkRhdGEgPSB7fTtcclxuICAgIGJvZHlEYXRhLmRiRGF0YVtgJHtyZXF1aXJlZFBhcmFtS2V5fS0ke2tleX1gXSA9XHJcbiAgICAgIGRiRGF0YS5sZW5ndGggPiAxID8gZGJEYXRhLm1hcCgoeyBkYXRhVmFsdWVzIH0pID0+IGRhdGFWYWx1ZXMpIDogZGJEYXRhWzBdLmRhdGFWYWx1ZXM7XHJcbiAgICByZXR1cm47XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xyXG4gIH1cclxufTtcclxuIl19