function cov_3dlljpcgq(){var path="/vagrant/continuum/core/src/modules/evaluation/middlewares/chl/v1/equifax/fn/getDataFromEquifax.js";var hash="e516e15bb6e7d0613bb782e7f972b2294a150360";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/vagrant/continuum/core/src/modules/evaluation/middlewares/chl/v1/equifax/fn/getDataFromEquifax.js",statementMap:{"0":{start:{line:1,column:24},end:{line:1,column:57}},"1":{start:{line:2,column:15},end:{line:2,column:32}},"2":{start:{line:4,column:18},end:{line:4,column:21}},"3":{start:{line:7,column:36},end:{line:7,column:111}},"4":{start:{line:8,column:27},end:{line:8,column:105}},"5":{start:{line:8,column:70},end:{line:8,column:104}},"6":{start:{line:9,column:2},end:{line:9,column:52}},"7":{start:{line:12,column:31},end:{line:12,column:117}},"8":{start:{line:12,column:52},end:{line:12,column:117}},"9":{start:{line:14,column:29},end:{line:14,column:110}},"10":{start:{line:14,column:50},end:{line:14,column:110}},"11":{start:{line:16,column:30},end:{line:16,column:101}},"12":{start:{line:16,column:51},end:{line:16,column:101}},"13":{start:{line:19,column:2},end:{line:19,column:63}},"14":{start:{line:22,column:33},end:{line:22,column:106}},"15":{start:{line:22,column:54},end:{line:22,column:106}},"16":{start:{line:25,column:36},end:{line:25,column:111}},"17":{start:{line:26,column:43},end:{line:36,column:3}},"18":{start:{line:37,column:2},end:{line:39,column:4}},"19":{start:{line:38,column:4},end:{line:38,column:69}},"20":{start:{line:42,column:48},end:{line:46,column:1}},"21":{start:{line:44,column:4},end:{line:44,column:96}},"22":{start:{line:45,column:2},end:{line:45,column:74}},"23":{start:{line:47,column:24},end:{line:51,column:1}},"24":{start:{line:48,column:27},end:{line:48,column:102}},"25":{start:{line:49,column:32},end:{line:49,column:104}},"26":{start:{line:49,column:71},end:{line:49,column:103}},"27":{start:{line:50,column:2},end:{line:50,column:36}},"28":{start:{line:53,column:23},end:{line:64,column:1}},"29":{start:{line:55,column:4},end:{line:62,column:78}},"30":{start:{line:63,column:2},end:{line:63,column:26}},"31":{start:{line:66,column:27},end:{line:78,column:1}},"32":{start:{line:67,column:2},end:{line:77,column:4}},"33":{start:{line:80,column:0},end:{line:83,column:2}}},fnMap:{"0":{name:"getAttributeValue",decl:{start:{line:6,column:9},end:{line:6,column:26}},loc:{start:{line:6,column:58},end:{line:10,column:1}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:8,column:60},end:{line:8,column:61}},loc:{start:{line:8,column:70},end:{line:8,column:104}},line:8},"2":{name:"(anonymous_2)",decl:{start:{line:12,column:31},end:{line:12,column:32}},loc:{start:{line:12,column:52},end:{line:12,column:117}},line:12},"3":{name:"(anonymous_3)",decl:{start:{line:14,column:29},end:{line:14,column:30}},loc:{start:{line:14,column:50},end:{line:14,column:110}},line:14},"4":{name:"(anonymous_4)",decl:{start:{line:16,column:30},end:{line:16,column:31}},loc:{start:{line:16,column:51},end:{line:16,column:101}},line:16},"5":{name:"getEquifaxReportedDob",decl:{start:{line:18,column:9},end:{line:18,column:30}},loc:{start:{line:18,column:48},end:{line:20,column:1}},line:18},"6":{name:"(anonymous_6)",decl:{start:{line:22,column:33},end:{line:22,column:34}},loc:{start:{line:22,column:54},end:{line:22,column:106}},line:22},"7":{name:"getDelinquencies",decl:{start:{line:24,column:9},end:{line:24,column:25}},loc:{start:{line:24,column:43},end:{line:40,column:1}},line:24},"8":{name:"(anonymous_8)",decl:{start:{line:37,column:42},end:{line:37,column:43}},loc:{start:{line:38,column:4},end:{line:38,column:69}},line:38},"9":{name:"(anonymous_9)",decl:{start:{line:42,column:48},end:{line:42,column:49}},loc:{start:{line:42,column:69},end:{line:46,column:1}},line:42},"10":{name:"(anonymous_10)",decl:{start:{line:47,column:24},end:{line:47,column:25}},loc:{start:{line:47,column:45},end:{line:51,column:1}},line:47},"11":{name:"(anonymous_11)",decl:{start:{line:49,column:56},end:{line:49,column:57}},loc:{start:{line:49,column:71},end:{line:49,column:103}},line:49},"12":{name:"(anonymous_12)",decl:{start:{line:53,column:23},end:{line:53,column:24}},loc:{start:{line:53,column:44},end:{line:64,column:1}},line:53},"13":{name:"(anonymous_13)",decl:{start:{line:66,column:27},end:{line:66,column:28}},loc:{start:{line:66,column:54},end:{line:78,column:1}},line:66}},branchMap:{"0":{loc:{start:{line:9,column:9},end:{line:9,column:51}},type:"cond-expr",locations:[{start:{line:9,column:26},end:{line:9,column:46}},{start:{line:9,column:49},end:{line:9,column:51}}],line:9},"1":{loc:{start:{line:55,column:4},end:{line:62,column:78}},type:"binary-expr",locations:[{start:{line:55,column:4},end:{line:55,column:76}},{start:{line:56,column:4},end:{line:56,column:75}},{start:{line:57,column:4},end:{line:57,column:76}},{start:{line:58,column:4},end:{line:58,column:81}},{start:{line:59,column:4},end:{line:59,column:81}},{start:{line:60,column:4},end:{line:60,column:81}},{start:{line:61,column:4},end:{line:61,column:78}},{start:{line:62,column:4},end:{line:62,column:78}}],line:55},"2":{loc:{start:{line:63,column:9},end:{line:63,column:25}},type:"cond-expr",locations:[{start:{line:63,column:20},end:{line:63,column:21}},{start:{line:63,column:24},end:{line:63,column:25}}],line:63}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},b:{"0":[0,0],"1":[0,0,0,0,0,0,0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e516e15bb6e7d0613bb782e7f972b2294a150360"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_3dlljpcgq=function(){return actualCoverage;};}return actualCoverage;}cov_3dlljpcgq();const validationRules=(cov_3dlljpcgq().s[0]++,require('./validationRules.json'));const moment=(cov_3dlljpcgq().s[1]++,require('moment'));const MIN_SCORE=(cov_3dlljpcgq().s[2]++,500);function getAttributeValue(equifaxResponse,attributeKey){cov_3dlljpcgq().f[0]++;const equifaxResponseAttributes=(cov_3dlljpcgq().s[3]++,equifaxResponse.applicants.primaryConsumer.ccb.ccb.expg04Section.attributes);const[extractedValue]=(cov_3dlljpcgq().s[4]++,equifaxResponseAttributes.filter(item=>{cov_3dlljpcgq().f[1]++;cov_3dlljpcgq().s[5]++;return item.variableName===attributeKey;}));cov_3dlljpcgq().s[6]++;return extractedValue?(cov_3dlljpcgq().b[0][0]++,extractedValue.value):(cov_3dlljpcgq().b[0][1]++,'');}cov_3dlljpcgq().s[7]++;const isCommercialBulletinOk=equifaxResponse=>{cov_3dlljpcgq().f[2]++;cov_3dlljpcgq().s[8]++;return getAttributeValue(equifaxResponse,'KPI_BOLETIN_CONCURSAL')===0;};cov_3dlljpcgq().s[9]++;const getEquifaxABC1Status=equifaxResponse=>{cov_3dlljpcgq().f[3]++;cov_3dlljpcgq().s[10]++;return getAttributeValue(equifaxResponse,'ISE_EQUIFAX')==='ABC1';};cov_3dlljpcgq().s[11]++;const getEquifaxReportedAge=equifaxResponse=>{cov_3dlljpcgq().f[4]++;cov_3dlljpcgq().s[12]++;return+getAttributeValue(equifaxResponse,'DIC_EDAD_26');};function getEquifaxReportedDob(equifaxResponse){cov_3dlljpcgq().f[5]++;cov_3dlljpcgq().s[13]++;return getAttributeValue(equifaxResponse,'DIC_FECHNAC2_26');}cov_3dlljpcgq().s[14]++;const getEquifaxReportedIncome=equifaxResponse=>{cov_3dlljpcgq().f[6]++;cov_3dlljpcgq().s[15]++;return+getAttributeValue(equifaxResponse,'KPI_RENTA_EFX');};function getDelinquencies(equifaxResponse){cov_3dlljpcgq().f[7]++;const equifaxResponseAttributes=(cov_3dlljpcgq().s[16]++,equifaxResponse.applicants.primaryConsumer.ccb.ccb.expg04Section.attributes);const equifaxDelinquencyAttributesKeys=(cov_3dlljpcgq().s[17]++,['DIC_TOTDOCS_02','DIC_TOTDOC_12','DIC_TOTDOCS_39','DIC_MONTOTOTALUF_02','DIC_MONTOTOTALUF_02','DIC_MONTOTOTALUF_12','DIC_MONTOTOTALUF_39','DIC_NROACREED_02','DIC_NROACREED_39']);cov_3dlljpcgq().s[18]++;return equifaxResponseAttributes.filter(attribute=>{cov_3dlljpcgq().f[8]++;cov_3dlljpcgq().s[19]++;return equifaxDelinquencyAttributesKeys.includes(attribute.variableName);});}cov_3dlljpcgq().s[20]++;const getEquifaxReportedMaritalStatusIsSingle=equifaxResponse=>{cov_3dlljpcgq().f[9]++;const equifaxResponseDecisionsPreTreatment=(cov_3dlljpcgq().s[21]++,equifaxResponse.applicants.primaryConsumer.decisions[0].decision[0].decisions_pretratamiento);cov_3dlljpcgq().s[22]++;return+equifaxResponseDecisionsPreTreatment.ESTCIV_IND_SOLTERO_C===1;};cov_3dlljpcgq().s[23]++;const getEquifaxScore=equifaxResponse=>{cov_3dlljpcgq().f[10]++;const modelsOutputData=(cov_3dlljpcgq().s[24]++,equifaxResponse.applicants.primaryConsumer.models[0].modelsAMI02.outputData);const[finalScoreAttribute]=(cov_3dlljpcgq().s[25]++,modelsOutputData.filter(attribute=>{cov_3dlljpcgq().f[11]++;cov_3dlljpcgq().s[26]++;return attribute.name==='final score';}));cov_3dlljpcgq().s[27]++;return+finalScoreAttribute.value;};cov_3dlljpcgq().s[28]++;const getDelinquency=equifaxResponse=>{cov_3dlljpcgq().f[12]++;const response=(cov_3dlljpcgq().s[29]++,(cov_3dlljpcgq().b[1][0]++,parseFloat(getAttributeValue(equifaxResponse,'DIC_TOTDOCS_02'))===0.0)&&(cov_3dlljpcgq().b[1][1]++,parseFloat(getAttributeValue(equifaxResponse,'DIC_TOTDOC_12'))===0.0)&&(cov_3dlljpcgq().b[1][2]++,parseFloat(getAttributeValue(equifaxResponse,'DIC_TOTDOCS_39'))===0.0)&&(cov_3dlljpcgq().b[1][3]++,parseFloat(getAttributeValue(equifaxResponse,'DIC_MONTOTOTALUF_02'))===0.0)&&(cov_3dlljpcgq().b[1][4]++,parseFloat(getAttributeValue(equifaxResponse,'DIC_MONTOTOTALUF_12'))===0.0)&&(cov_3dlljpcgq().b[1][5]++,parseFloat(getAttributeValue(equifaxResponse,'DIC_MONTOTOTALUF_39'))===0.0)&&(cov_3dlljpcgq().b[1][6]++,parseFloat(getAttributeValue(equifaxResponse,'DIC_NROACREED_02'))===0.0)&&(cov_3dlljpcgq().b[1][7]++,parseFloat(getAttributeValue(equifaxResponse,'DIC_NROACREED_39'))===0.0));cov_3dlljpcgq().s[30]++;return response?(cov_3dlljpcgq().b[2][0]++,0):(cov_3dlljpcgq().b[2][1]++,1);};cov_3dlljpcgq().s[31]++;const getDataFromEquifax=async equifaxResponse=>{cov_3dlljpcgq().f[13]++;cov_3dlljpcgq().s[32]++;return{getDelinquency:await getDelinquency(equifaxResponse),isCommercialBulletinOk:await isCommercialBulletinOk(equifaxResponse),equifaxABC1Status:await getEquifaxABC1Status(equifaxResponse),equifaxReportedAge:await getEquifaxReportedAge(equifaxResponse),equifaxReportedDob:await getEquifaxReportedDob(equifaxResponse),equifaxReportedIncome:await getEquifaxReportedIncome(equifaxResponse),equifaxReportedMaritalStatusIsSingle:await getEquifaxReportedMaritalStatusIsSingle(equifaxResponse),getEquifaxScore:await getEquifaxScore(equifaxResponse),delinquencies:await getDelinquencies(equifaxResponse)};};cov_3dlljpcgq().s[33]++;module.exports={getDataFromEquifax,validationRules};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldERhdGFGcm9tRXF1aWZheC5qcyJdLCJuYW1lcyI6WyJ2YWxpZGF0aW9uUnVsZXMiLCJyZXF1aXJlIiwibW9tZW50IiwiTUlOX1NDT1JFIiwiZ2V0QXR0cmlidXRlVmFsdWUiLCJlcXVpZmF4UmVzcG9uc2UiLCJhdHRyaWJ1dGVLZXkiLCJlcXVpZmF4UmVzcG9uc2VBdHRyaWJ1dGVzIiwiYXBwbGljYW50cyIsInByaW1hcnlDb25zdW1lciIsImNjYiIsImV4cGcwNFNlY3Rpb24iLCJhdHRyaWJ1dGVzIiwiZXh0cmFjdGVkVmFsdWUiLCJmaWx0ZXIiLCJpdGVtIiwidmFyaWFibGVOYW1lIiwidmFsdWUiLCJpc0NvbW1lcmNpYWxCdWxsZXRpbk9rIiwiZ2V0RXF1aWZheEFCQzFTdGF0dXMiLCJnZXRFcXVpZmF4UmVwb3J0ZWRBZ2UiLCJnZXRFcXVpZmF4UmVwb3J0ZWREb2IiLCJnZXRFcXVpZmF4UmVwb3J0ZWRJbmNvbWUiLCJnZXREZWxpbnF1ZW5jaWVzIiwiZXF1aWZheERlbGlucXVlbmN5QXR0cmlidXRlc0tleXMiLCJhdHRyaWJ1dGUiLCJpbmNsdWRlcyIsImdldEVxdWlmYXhSZXBvcnRlZE1hcml0YWxTdGF0dXNJc1NpbmdsZSIsImVxdWlmYXhSZXNwb25zZURlY2lzaW9uc1ByZVRyZWF0bWVudCIsImRlY2lzaW9ucyIsImRlY2lzaW9uIiwiZGVjaXNpb25zX3ByZXRyYXRhbWllbnRvIiwiRVNUQ0lWX0lORF9TT0xURVJPX0MiLCJnZXRFcXVpZmF4U2NvcmUiLCJtb2RlbHNPdXRwdXREYXRhIiwibW9kZWxzIiwibW9kZWxzQU1JMDIiLCJvdXRwdXREYXRhIiwiZmluYWxTY29yZUF0dHJpYnV0ZSIsIm5hbWUiLCJnZXREZWxpbnF1ZW5jeSIsInJlc3BvbnNlIiwicGFyc2VGbG9hdCIsImdldERhdGFGcm9tRXF1aWZheCIsImVxdWlmYXhBQkMxU3RhdHVzIiwiZXF1aWZheFJlcG9ydGVkQWdlIiwiZXF1aWZheFJlcG9ydGVkRG9iIiwiZXF1aWZheFJlcG9ydGVkSW5jb21lIiwiZXF1aWZheFJlcG9ydGVkTWFyaXRhbFN0YXR1c0lzU2luZ2xlIiwiZGVsaW5xdWVuY2llcyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJtekxBZVk7eUZBZlosS0FBTUEsQ0FBQUEsZUFBZSx5QkFBR0MsT0FBTyxDQUFDLHdCQUFELENBQVYsQ0FBckIsQ0FDQSxLQUFNQyxDQUFBQSxNQUFNLHlCQUFHRCxPQUFPLENBQUMsUUFBRCxDQUFWLENBQVosQ0FFQSxLQUFNRSxDQUFBQSxTQUFTLHlCQUFHLEdBQUgsQ0FBZixDQUVBLFFBQVNDLENBQUFBLGlCQUFULENBQTJCQyxlQUEzQixDQUE0Q0MsWUFBNUMsQ0FBMEQsd0JBQ3hELEtBQU1DLENBQUFBLHlCQUF5Qix5QkFBR0YsZUFBZSxDQUFDRyxVQUFoQixDQUEyQkMsZUFBM0IsQ0FBMkNDLEdBQTNDLENBQStDQSxHQUEvQyxDQUFtREMsYUFBbkQsQ0FBaUVDLFVBQXBFLENBQS9CLENBQ0EsS0FBTSxDQUFDQyxjQUFELDBCQUFtQk4seUJBQXlCLENBQUNPLE1BQTFCLENBQWtDQyxJQUFELEVBQVUscURBQUFBLENBQUFBLElBQUksQ0FBQ0MsWUFBTCxHQUFzQlYsWUFBdEIsQ0FBa0MsQ0FBN0UsQ0FBbkIsQ0FBTixDQUZ3RCx1QkFHeEQsTUFBT08sQ0FBQUEsY0FBYyw0QkFBR0EsY0FBYyxDQUFDSSxLQUFsQiw2QkFBMEIsRUFBMUIsQ0FBckIsQ0FDRCxDLHVCQUVELEtBQU1DLENBQUFBLHNCQUFzQixDQUFJYixlQUFELEVBQXFCLHFEQUFBRCxDQUFBQSxpQkFBaUIsQ0FBQ0MsZUFBRCxDQUFrQix1QkFBbEIsQ0FBakIsR0FBZ0UsQ0FBaEUsQ0FBaUUsQ0FBckgsQyx1QkFFQSxLQUFNYyxDQUFBQSxvQkFBb0IsQ0FBSWQsZUFBRCxFQUFxQixzREFBQUQsQ0FBQUEsaUJBQWlCLENBQUNDLGVBQUQsQ0FBa0IsYUFBbEIsQ0FBakIsR0FBc0QsTUFBdEQsQ0FBNEQsQ0FBOUcsQyx3QkFFQSxLQUFNZSxDQUFBQSxxQkFB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ZlIsa0JBRGUsQ0FFZjNDLGVBRmUsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB2YWxpZGF0aW9uUnVsZXMgPSByZXF1aXJlKCcuL3ZhbGlkYXRpb25SdWxlcy5qc29uJyk7XHJcbmNvbnN0IG1vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xyXG5cclxuY29uc3QgTUlOX1NDT1JFID0gNTAwO1xyXG5cclxuZnVuY3Rpb24gZ2V0QXR0cmlidXRlVmFsdWUoZXF1aWZheFJlc3BvbnNlLCBhdHRyaWJ1dGVLZXkpIHtcclxuICBjb25zdCBlcXVpZmF4UmVzcG9uc2VBdHRyaWJ1dGVzID0gZXF1aWZheFJlc3BvbnNlLmFwcGxpY2FudHMucHJpbWFyeUNvbnN1bWVyLmNjYi5jY2IuZXhwZzA0U2VjdGlvbi5hdHRyaWJ1dGVzO1xyXG4gIGNvbnN0IFtleHRyYWN0ZWRWYWx1ZV0gPSBlcXVpZmF4UmVzcG9uc2VBdHRyaWJ1dGVzLmZpbHRlcigoaXRlbSkgPT4gaXRlbS52YXJpYWJsZU5hbWUgPT09IGF0dHJpYnV0ZUtleSk7XHJcbiAgcmV0dXJuIGV4dHJhY3RlZFZhbHVlID8gZXh0cmFjdGVkVmFsdWUudmFsdWUgOiAnJztcclxufVxyXG5cclxuY29uc3QgaXNDb21tZXJjaWFsQnVsbGV0aW5PayA9IChlcXVpZmF4UmVzcG9uc2UpID0+IGdldEF0dHJpYnV0ZVZhbHVlKGVxdWlmYXhSZXNwb25zZSwgJ0tQSV9CT0xFVElOX0NPTkNVUlNBTCcpID09PSAwO1xyXG5cclxuY29uc3QgZ2V0RXF1aWZheEFCQzFTdGF0dXMgPSAoZXF1aWZheFJlc3BvbnNlKSA9PiBnZXRBdHRyaWJ1dGVWYWx1ZShlcXVpZmF4UmVzcG9uc2UsICdJU0VfRVFVSUZBWCcpID09PSAnQUJDMSc7XHJcblxyXG5jb25zdCBnZXRFcXVpZmF4UmVwb3J0ZWRBZ2UgPSAoZXF1aWZheFJlc3BvbnNlKSA9PiArZ2V0QXR0cmlidXRlVmFsdWUoZXF1aWZheFJlc3BvbnNlLCAnRElDX0VEQURfMjYnKTtcclxuXHJcbmZ1bmN0aW9uIGdldEVxdWlmYXhSZXBvcnRlZERvYihlcXVpZmF4UmVzcG9uc2UpIHtcclxuICByZXR1cm4gZ2V0QXR0cmlidXRlVmFsdWUoZXF1aWZheFJlc3BvbnNlLCAnRElDX0ZFQ0hOQUMyXzI2Jyk7XHJcbn1cclxuXHJcbmNvbnN0IGdldEVxdWlmYXhSZXBvcnRlZEluY29tZSA9IChlcXVpZmF4UmVzcG9uc2UpID0+ICtnZXRBdHRyaWJ1dGVWYWx1ZShlcXVpZmF4UmVzcG9uc2UsICdLUElfUkVOVEFfRUZYJyk7XHJcblxyXG5mdW5jdGlvbiBnZXREZWxpbnF1ZW5jaWVzKGVxdWlmYXhSZXNwb25zZSkge1xyXG4gIGNvbnN0IGVxdWlmYXhSZXNwb25zZUF0dHJpYnV0ZXMgPSBlcXVpZmF4UmVzcG9uc2UuYXBwbGljYW50cy5wcmltYXJ5Q29uc3VtZXIuY2NiLmNjYi5leHBnMDRTZWN0aW9uLmF0dHJpYnV0ZXM7XHJcbiAgY29uc3QgZXF1aWZheERlbGlucXVlbmN5QXR0cmlidXRlc0tleXMgPSBbXHJcbiAgICAnRElDX1RPVERPQ1NfMDInLFxyXG4gICAgJ0RJQ19UT1RET0NfMTInLFxyXG4gICAgJ0RJQ19UT1RET0NTXzM5JyxcclxuICAgICdESUNfTU9OVE9UT1RBTFVGXzAyJyxcclxuICAgICdESUNfTU9OVE9UT1RBTFVGXzAyJyxcclxuICAgICdESUNfTU9OVE9UT1RBTFVGXzEyJyxcclxuICAgICdESUNfTU9OVE9UT1RBTFVGXzM5JyxcclxuICAgICdESUNfTlJPQUNSRUVEXzAyJyxcclxuICAgICdESUNfTlJPQUNSRUVEXzM5JyxcclxuICBdO1xyXG4gIHJldHVybiBlcXVpZmF4UmVzcG9uc2VBdHRyaWJ1dGVzLmZpbHRlcigoYXR0cmlidXRlKSA9PlxyXG4gICAgZXF1aWZheERlbGlucXVlbmN5QXR0cmlidXRlc0tleXMuaW5jbHVkZXMoYXR0cmlidXRlLnZhcmlhYmxlTmFtZSksXHJcbiAgKTtcclxufVxyXG5cclxuY29uc3QgZ2V0RXF1aWZheFJlcG9ydGVkTWFyaXRhbFN0YXR1c0lzU2luZ2xlID0gKGVxdWlmYXhSZXNwb25zZSkgPT4ge1xyXG4gIGNvbnN0IGVxdWlmYXhSZXNwb25zZURlY2lzaW9uc1ByZVRyZWF0bWVudCA9XHJcbiAgICBlcXVpZmF4UmVzcG9uc2UuYXBwbGljYW50cy5wcmltYXJ5Q29uc3VtZXIuZGVjaXNpb25zWzBdLmRlY2lzaW9uWzBdLmRlY2lzaW9uc19wcmV0cmF0YW1pZW50bztcclxuICByZXR1cm4gK2VxdWlmYXhSZXNwb25zZURlY2lzaW9uc1ByZVRyZWF0bWVudC5FU1RDSVZfSU5EX1NPTFRFUk9fQyA9PT0gMTtcclxufTtcclxuY29uc3QgZ2V0RXF1aWZheFNjb3JlID0gKGVxdWlmYXhSZXNwb25zZSkgPT4ge1xyXG4gIGNvbnN0IG1vZGVsc091dHB1dERhdGEgPSBlcXVpZmF4UmVzcG9uc2UuYXBwbGljYW50cy5wcmltYXJ5Q29uc3VtZXIubW9kZWxzWzBdLm1vZGVsc0FNSTAyLm91dHB1dERhdGE7XHJcbiAgY29uc3QgW2ZpbmFsU2NvcmVBdHRyaWJ1dGVdID0gbW9kZWxzT3V0cHV0RGF0YS5maWx0ZXIoKGF0dHJpYnV0ZSkgPT4gYXR0cmlidXRlLm5hbWUgPT09ICdmaW5hbCBzY29yZScpO1xyXG4gIHJldHVybiArZmluYWxTY29yZUF0dHJpYnV0ZS52YWx1ZTtcclxufTtcclxuXHJcbmNvbnN0IGdldERlbGlucXVlbmN5ID0gKGVxdWlmYXhSZXNwb25zZSkgPT4ge1xyXG4gIGNvbnN0IHJlc3BvbnNlID1cclxuICAgIHBhcnNlRmxvYXQoZ2V0QXR0cmlidXRlVmFsdWUoZXF1aWZheFJlc3BvbnNlLCAnRElDX1RPVERPQ1NfMDInKSkgPT09IDAuMCAmJlxyXG4gICAgcGFyc2VGbG9hdChnZXRBdHRyaWJ1dGVWYWx1ZShlcXVpZmF4UmVzcG9uc2UsICdESUNfVE9URE9DXzEyJykpID09PSAwLjAgJiZcclxuICAgIHBhcnNlRmxvYXQoZ2V0QXR0cmlidXRlVmFsdWUoZXF1aWZheFJlc3BvbnNlLCAnRElDX1RPVERPQ1NfMzknKSkgPT09IDAuMCAmJlxyXG4gICAgcGFyc2VGbG9hdChnZXRBdHRyaWJ1dGVWYWx1ZShlcXVpZmF4UmVzcG9uc2UsICdESUNfTU9OVE9UT1RBTFVGXzAyJykpID09PSAwLjAgJiZcclxuICAgIHBhcnNlRmxvYXQoZ2V0QXR0cmlidXRlVmFsdWUoZXF1aWZheFJlc3BvbnNlLCAnRElDX01PTlRPVE9UQUxVRl8xMicpKSA9PT0gMC4wICYmXHJcbiAgICBwYXJzZUZsb2F0KGdldEF0dHJpYnV0ZVZhbHVlKGVxdWlmYXhSZXNwb25zZSwgJ0RJQ19NT05UT1RPVEFMVUZfMzknKSkgPT09IDAuMCAmJlxyXG4gICAgcGFyc2VGbG9hdChnZXRBdHRyaWJ1dGVWYWx1ZShlcXVpZmF4UmVzcG9uc2UsICdESUNfTlJPQUNSRUVEXzAyJykpID09PSAwLjAgJiZcclxuICAgIHBhcnNlRmxvYXQoZ2V0QXR0cmlidXRlVmFsdWUoZXF1aWZheFJlc3BvbnNlLCAnRElDX05ST0FDUkVFRF8zOScpKSA9PT0gMC4wO1xyXG4gIHJldHVybiByZXNwb25zZSA/IDAgOiAxO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0RGF0YUZyb21FcXVpZmF4ID0gYXN5bmMgKGVxdWlmYXhSZXNwb25zZSkgPT4ge1xyXG4gIHJldHVybiB7XHJcbiAgICBnZXREZWxpbnF1ZW5jeTogYXdhaXQgZ2V0RGVsaW5xdWVuY3koZXF1aWZheFJlc3BvbnNlKSxcclxuICAgIGlzQ29tbWVyY2lhbEJ1bGxldGluT2s6IGF3YWl0IGlzQ29tbWVyY2lhbEJ1bGxldGluT2soZXF1aWZheFJlc3BvbnNlKSxcclxuICAgIGVxdWlmYXhBQkMxU3RhdHVzOiBhd2FpdCBnZXRFcXVpZmF4QUJDMVN0YXR1cyhlcXVpZmF4UmVzcG9uc2UpLFxyXG4gICAgZXF1aWZheFJlcG9ydGVkQWdlOiBhd2FpdCBnZXRFcXVpZmF4UmVwb3J0ZWRBZ2UoZXF1aWZheFJlc3BvbnNlKSxcclxuICAgIGVxdWlmYXhSZXBvcnRlZERvYjogYXdhaXQgZ2V0RXF1aWZheFJlcG9ydGVkRG9iKGVxdWlmYXhSZXNwb25zZSksXHJcbiAgICBlcXVpZmF4UmVwb3J0ZWRJbmNvbWU6IGF3YWl0IGdldEVxdWlmYXhSZXBvcnRlZEluY29tZShlcXVpZmF4UmVzcG9uc2UpLFxyXG4gICAgZXF1aWZheFJlcG9ydGVkTWFyaXRhbFN0YXR1c0lzU2luZ2xlOiBhd2FpdCBnZXRFcXVpZmF4UmVwb3J0ZWRNYXJpdGFsU3RhdHVzSXNTaW5nbGUoZXF1aWZheFJlc3BvbnNlKSxcclxuICAgIGdldEVxdWlmYXhTY29yZTogYXdhaXQgZ2V0RXF1aWZheFNjb3JlKGVxdWlmYXhSZXNwb25zZSksXHJcbiAgICBkZWxpbnF1ZW5jaWVzOiBhd2FpdCBnZXREZWxpbnF1ZW5jaWVzKGVxdWlmYXhSZXNwb25zZSksXHJcbiAgfTtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGdldERhdGFGcm9tRXF1aWZheCxcclxuICB2YWxpZGF0aW9uUnVsZXMsXHJcbn07XHJcbiJdfQ==