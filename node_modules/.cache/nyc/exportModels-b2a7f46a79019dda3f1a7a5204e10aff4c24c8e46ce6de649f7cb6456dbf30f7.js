function cov_2o6tzdp58a(){var path="/vagrant/continuum/core/src/common/helpers/exportModels.js";var hash="d873b705f95162f7f38a63fc16b7161542435809";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/vagrant/continuum/core/src/common/helpers/exportModels.js",statementMap:{"0":{start:{line:1,column:11},end:{line:1,column:24}},"1":{start:{line:2,column:13},end:{line:2,column:28}},"2":{start:{line:3,column:18},end:{line:3,column:38}},"3":{start:{line:5,column:12},end:{line:5,column:49}},"4":{start:{line:7,column:0},end:{line:42,column:2}},"5":{start:{line:8,column:17},end:{line:8,column:56}},"6":{start:{line:10,column:13},end:{line:10,column:15}},"7":{start:{line:13,column:2},end:{line:17,column:3}},"8":{start:{line:14,column:4},end:{line:14,column:76}},"9":{start:{line:16,column:4},end:{line:16,column:89}},"10":{start:{line:19,column:2},end:{line:37,column:18}},"11":{start:{line:20,column:4},end:{line:30,column:9}},"12":{start:{line:22,column:8},end:{line:22,column:67}},"13":{start:{line:25,column:19},end:{line:25,column:52}},"14":{start:{line:26,column:8},end:{line:29,column:9}},"15":{start:{line:27,column:24},end:{line:27,column:58}},"16":{start:{line:28,column:10},end:{line:28,column:45}},"17":{start:{line:32,column:4},end:{line:36,column:7}},"18":{start:{line:33,column:6},end:{line:35,column:7}},"19":{start:{line:34,column:8},end:{line:34,column:36}},"20":{start:{line:39,column:2},end:{line:39,column:27}},"21":{start:{line:40,column:2},end:{line:40,column:27}},"22":{start:{line:41,column:2},end:{line:41,column:12}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:17},end:{line:7,column:18}},loc:{start:{line:7,column:30},end:{line:42,column:1}},line:7},"1":{name:"(anonymous_1)",decl:{start:{line:21,column:14},end:{line:21,column:15}},loc:{start:{line:21,column:24},end:{line:23,column:7}},line:21},"2":{name:"(anonymous_2)",decl:{start:{line:24,column:15},end:{line:24,column:16}},loc:{start:{line:24,column:25},end:{line:30,column:7}},line:24},"3":{name:"(anonymous_3)",decl:{start:{line:32,column:28},end:{line:32,column:29}},loc:{start:{line:32,column:43},end:{line:36,column:5}},line:32}},branchMap:{"0":{loc:{start:{line:5,column:12},end:{line:5,column:49}},type:"binary-expr",locations:[{start:{line:5,column:12},end:{line:5,column:32}},{start:{line:5,column:36},end:{line:5,column:49}}],line:5},"1":{loc:{start:{line:13,column:2},end:{line:17,column:3}},type:"if",locations:[{start:{line:13,column:2},end:{line:17,column:3}},{start:{line:13,column:2},end:{line:17,column:3}}],line:13},"2":{loc:{start:{line:22,column:15},end:{line:22,column:66}},type:"binary-expr",locations:[{start:{line:22,column:15},end:{line:22,column:38}},{start:{line:22,column:42},end:{line:22,column:66}}],line:22},"3":{loc:{start:{line:26,column:8},end:{line:29,column:9}},type:"if",locations:[{start:{line:26,column:8},end:{line:29,column:9}},{start:{line:26,column:8},end:{line:29,column:9}}],line:26},"4":{loc:{start:{line:33,column:6},end:{line:35,column:7}},type:"if",locations:[{start:{line:33,column:6},end:{line:35,column:7}},{start:{line:33,column:6},end:{line:35,column:7}}],line:33}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d873b705f95162f7f38a63fc16b7161542435809"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2o6tzdp58a=function(){return actualCoverage;};}return actualCoverage;}cov_2o6tzdp58a();const fs=(cov_2o6tzdp58a().s[0]++,require('fs'));const path=(cov_2o6tzdp58a().s[1]++,require('path'));const Sequelize=(cov_2o6tzdp58a().s[2]++,require('sequelize'));const env=(cov_2o6tzdp58a().s[3]++,(cov_2o6tzdp58a().b[0][0]++,process.env.NODE_ENV)||(cov_2o6tzdp58a().b[0][1]++,'development'));cov_2o6tzdp58a().s[4]++;module.exports=dirname=>{cov_2o6tzdp58a().f[0]++;const config=(cov_2o6tzdp58a().s[5]++,require('config/sequalize.config')[env]);const db=(cov_2o6tzdp58a().s[6]++,{});let sequelize;cov_2o6tzdp58a().s[7]++;if(config.use_env_variable){cov_2o6tzdp58a().b[1][0]++;cov_2o6tzdp58a().s[8]++;sequelize=new Sequelize(process.env[config.use_env_variable],config);}else{cov_2o6tzdp58a().b[1][1]++;cov_2o6tzdp58a().s[9]++;sequelize=new Sequelize(config.database,config.username,config.password,config);}cov_2o6tzdp58a().s[10]++;try{cov_2o6tzdp58a().s[11]++;fs.readdirSync(dirname).filter(file=>{cov_2o6tzdp58a().f[1]++;cov_2o6tzdp58a().s[12]++;return(cov_2o6tzdp58a().b[2][0]++,file.indexOf('.')!==0)&&(cov_2o6tzdp58a().b[2][1]++,file.slice(-3)==='.js');}).forEach(file=>{cov_2o6tzdp58a().f[2]++;const ms=(cov_2o6tzdp58a().s[13]++,require(path.join(dirname,file)));cov_2o6tzdp58a().s[14]++;if(typeof ms!=undefined){cov_2o6tzdp58a().b[3][0]++;const model=(cov_2o6tzdp58a().s[15]++,ms(sequelize,Sequelize.DataTypes));cov_2o6tzdp58a().s[16]++;db[`${model.name}PgModel`]=model;}else{cov_2o6tzdp58a().b[3][1]++;}});cov_2o6tzdp58a().s[17]++;Object.keys(db).forEach(modelName=>{cov_2o6tzdp58a().f[3]++;cov_2o6tzdp58a().s[18]++;if(db[modelName].associate){cov_2o6tzdp58a().b[4][0]++;cov_2o6tzdp58a().s[19]++;db[modelName].associate(db);}else{cov_2o6tzdp58a().b[4][1]++;}});}catch(err){}cov_2o6tzdp58a().s[20]++;db.sequelize=sequelize;cov_2o6tzdp58a().s[21]++;db.Sequelize=Sequelize;cov_2o6tzdp58a().s[22]++;return db;};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4cG9ydE1vZGVscy5qcyJdLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwYXRoIiwiU2VxdWVsaXplIiwiZW52IiwicHJvY2VzcyIsIk5PREVfRU5WIiwibW9kdWxlIiwiZXhwb3J0cyIsImRpcm5hbWUiLCJjb25maWciLCJkYiIsInNlcXVlbGl6ZSIsInVzZV9lbnZfdmFyaWFibGUiLCJkYXRhYmFzZSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJyZWFkZGlyU3luYyIsImZpbHRlciIsImZpbGUiLCJpbmRleE9mIiwic2xpY2UiLCJmb3JFYWNoIiwibXMiLCJqb2luIiwidW5kZWZpbmVkIiwibW9kZWwiLCJEYXRhVHlwZXMiLCJuYW1lIiwiT2JqZWN0Iiwia2V5cyIsIm1vZGVsTmFtZSIsImFzc29jaWF0ZSIsImVyciJdLCJtYXBwaW5ncyI6IjBrSEFlWTsyRkFmWixLQUFNQSxDQUFBQSxFQUFFLDBCQUFHQyxPQUFPLENBQUMsSUFBRCxDQUFWLENBQVIsQ0FDQSxLQUFNQyxDQUFBQSxJQUFJLDBCQUFHRCxPQUFPLENBQUMsTUFBRCxDQUFWLENBQVYsQ0FDQSxLQUFNRSxDQUFBQSxTQUFTLDBCQUFHRixPQUFPLENBQUMsV0FBRCxDQUFWLENBQWYsQ0FFQSxLQUFNRyxDQUFBQSxHQUFHLDBCQUFHLDRCQUFBQyxPQUFPLENBQUNELEdBQVIsQ0FBWUUsUUFBWiwrQkFBd0IsYUFBeEIsQ0FBSCxDQUFULEMsd0JBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxDQUFrQkMsT0FBRCxFQUFhLHlCQUM1QixLQUFNQyxDQUFBQSxNQUFNLDBCQUFHVCxPQUFPLENBQUMseUJBQUQsQ0FBUCxDQUFtQ0csR0FBbkMsQ0FBSCxDQUFaLENBRUEsS0FBTU8sQ0FBQUEsRUFBRSwwQkFBRyxFQUFILENBQVIsQ0FFQSxHQUFJQyxDQUFBQSxTQUFKLENBTDRCLHdCQU01QixHQUFJRixNQUFNLENBQUNHLGdCQUFYLENBQTZCLG9EQUMzQkQsU0FBUyxDQUFHLEdBQUlULENBQUFBLFNBQUosQ0FBY0UsT0FBTyxDQUFDRCxHQUFSLENBQVlNLE1BQU0sQ0FBQ0csZ0JBQW5CLENBQWQsQ0FBb0RILE1BQXBELENBQVosQ0FDRCxDQUZELElBRU8sb0RBQ0xFLFNBQVMsQ0FBRyxHQUFJVCxDQUFBQSxTQUFKLENBQWNPLE1BQU0sQ0FBQ0ksUUFBckIsQ0FBK0JKLE1BQU0sQ0FBQ0ssUUFBdEMsQ0FBZ0RMLE1BQU0sQ0FBQ00sUUFBdkQsQ0FBaUVOLE1BQWpFLENBQVosQ0FDRCxDQVYyQix5QkFZNUIsR0FBSSwwQkFDRlYsRUFBRSxDQUFDaUIsV0FBSCxDQUFlUixPQUFmLEVBQ0dTLE1BREgsQ0FDV0MsSUFBRCxFQUFVLGtEQUNoQixNQUFPLDRCQUFBQSxJQUFJLENBQUNDLE9BQUwsQ0FBYSxHQUFiLElBQXNCLENBQXRCLCtCQUEyQkQsSUFBSSxDQUFDRSxLQUFMLENBQVcsQ0FBQyxDQUFaLElBQW1CLEtBQTlDLENBQVAsQ0FDRCxDQUhILEVBSUdDLE9BSkgsQ0FJWUgsSUFBRCxFQUFVLHlCQUNqQixLQUFNSSxDQUFBQSxFQUFFLDJCQUFHdEIsT0FBTyxDQUFDQyxJQUFJLENBQUNzQixJQUFMLENBQVVmLE9BQVYsQ0FBbUJVLElBQW5CLENBQUQsQ0FBVixDQUFSLENBRGlCLHlCQUVqQixHQUFJLE1BQU9JLENBQUFBLEVBQVAsRUFBYUUsU0FBakIsQ0FBNEIsNEJBQzFCLEtBQU1DLENBQUFBLEtBQUssMkJBQUdILEVBQUUsQ0FBQ1gsU0FBRCxDQUFZVCxTQUFTLENBQUN3QixTQUF0QixDQUFMLENBQVgsQ0FEMEIseUJBRTFCaEIsRUFBRSxDQUFFLEdBQUVlLEtBQUssQ0FBQ0UsSUFBSyxTQUFmLENBQUYsQ0FBNkJGLEtBQTdCLENBQ0QsQ0FIRCxpQ0FJRCxDQVZILEVBREUseUJBYUZHLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZbkIsRUFBWixFQUFnQlcsT0FBaEIsQ0FBeUJTLFNBQUQsRUFBZSxrREFDckMsR0FBSXBCLEVBQUUsQ0FBQ29CLFNBQUQsQ0FBRixDQUFjQyxTQUFsQixDQUE2QixxREFDM0JyQixFQUFFLENBQUNvQixTQUFELENBQUYsQ0FBY0MsU0FBZCxDQUF3QnJCLEVBQXhCLEVBQ0QsQ0FGRCxpQ0FHRCxDQUpELEVBS0QsQ0FBQyxNQUFPc0IsR0FBUCxDQUFZLENBQUUsQ0E5QlkseUJBZ0M1QnRCLEVBQUUsQ0FBQ0MsU0FBSCxDQUFlQSxTQUFmLENBaEM0Qix5QkFpQzVCRCxFQUFFLENBQUNSLFNBQUgsQ0FBZUEsU0FBZixDQWpDNEIseUJBa0M1QixNQUFPUSxDQUFBQSxFQUFQLENBQ0QsQ0FuQ0QiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XHJcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XHJcbmNvbnN0IFNlcXVlbGl6ZSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpO1xyXG5cclxuY29uc3QgZW52ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgfHwgJ2RldmVsb3BtZW50JztcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gKGRpcm5hbWUpID0+IHtcclxuICBjb25zdCBjb25maWcgPSByZXF1aXJlKCdjb25maWcvc2VxdWFsaXplLmNvbmZpZycpW2Vudl07XHJcblxyXG4gIGNvbnN0IGRiID0ge307XHJcblxyXG4gIGxldCBzZXF1ZWxpemU7XHJcbiAgaWYgKGNvbmZpZy51c2VfZW52X3ZhcmlhYmxlKSB7XHJcbiAgICBzZXF1ZWxpemUgPSBuZXcgU2VxdWVsaXplKHByb2Nlc3MuZW52W2NvbmZpZy51c2VfZW52X3ZhcmlhYmxlXSwgY29uZmlnKTtcclxuICB9IGVsc2Uge1xyXG4gICAgc2VxdWVsaXplID0gbmV3IFNlcXVlbGl6ZShjb25maWcuZGF0YWJhc2UsIGNvbmZpZy51c2VybmFtZSwgY29uZmlnLnBhc3N3b3JkLCBjb25maWcpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGZzLnJlYWRkaXJTeW5jKGRpcm5hbWUpXHJcbiAgICAgIC5maWx0ZXIoKGZpbGUpID0+IHtcclxuICAgICAgICByZXR1cm4gZmlsZS5pbmRleE9mKCcuJykgIT09IDAgJiYgZmlsZS5zbGljZSgtMykgPT09ICcuanMnO1xyXG4gICAgICB9KVxyXG4gICAgICAuZm9yRWFjaCgoZmlsZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG1zID0gcmVxdWlyZShwYXRoLmpvaW4oZGlybmFtZSwgZmlsZSkpO1xyXG4gICAgICAgIGlmICh0eXBlb2YgbXMgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICBjb25zdCBtb2RlbCA9IG1zKHNlcXVlbGl6ZSwgU2VxdWVsaXplLkRhdGFUeXBlcyk7XHJcbiAgICAgICAgICBkYltgJHttb2RlbC5uYW1lfVBnTW9kZWxgXSA9IG1vZGVsO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgT2JqZWN0LmtleXMoZGIpLmZvckVhY2goKG1vZGVsTmFtZSkgPT4ge1xyXG4gICAgICBpZiAoZGJbbW9kZWxOYW1lXS5hc3NvY2lhdGUpIHtcclxuICAgICAgICBkYlttb2RlbE5hbWVdLmFzc29jaWF0ZShkYik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge31cclxuXHJcbiAgZGIuc2VxdWVsaXplID0gc2VxdWVsaXplO1xyXG4gIGRiLlNlcXVlbGl6ZSA9IFNlcXVlbGl6ZTtcclxuICByZXR1cm4gZGI7XHJcbn07XHJcbiJdfQ==