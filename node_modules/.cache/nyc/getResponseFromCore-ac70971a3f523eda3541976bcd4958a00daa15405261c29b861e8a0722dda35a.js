function cov_1p2fg5er78(){var path="/vagrant/continuum/core/src/modules/simulation/middlewares/core/fn/getResponseFromCore.js";var hash="57f1e51df1c6cd8ed3299cc7eac75540602451af";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/vagrant/continuum/core/src/modules/simulation/middlewares/core/fn/getResponseFromCore.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:30}},"1":{start:{line:2,column:33},end:{line:2,column:66}},"2":{start:{line:4,column:40},end:{line:4,column:51}},"3":{start:{line:6,column:28},end:{line:28,column:1}},"4":{start:{line:7,column:2},end:{line:9,column:3}},"5":{start:{line:8,column:4},end:{line:8,column:52}},"6":{start:{line:10,column:2},end:{line:27,column:3}},"7":{start:{line:11,column:21},end:{line:18,column:6}},"8":{start:{line:19,column:4},end:{line:23,column:5}},"9":{start:{line:20,column:6},end:{line:20,column:52}},"10":{start:{line:22,column:6},end:{line:22,column:27}},"11":{start:{line:26,column:4},end:{line:26,column:104}},"12":{start:{line:30,column:0},end:{line:32,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:28},end:{line:6,column:29}},loc:{start:{line:6,column:64},end:{line:28,column:1}},line:6}},branchMap:{"0":{loc:{start:{line:7,column:2},end:{line:9,column:3}},type:"if",locations:[{start:{line:7,column:2},end:{line:9,column:3}},{start:{line:7,column:2},end:{line:9,column:3}}],line:7},"1":{loc:{start:{line:7,column:5},end:{line:7,column:48}},type:"binary-expr",locations:[{start:{line:7,column:5},end:{line:7,column:32}},{start:{line:7,column:36},end:{line:7,column:48}}],line:7},"2":{loc:{start:{line:19,column:4},end:{line:23,column:5}},type:"if",locations:[{start:{line:19,column:4},end:{line:23,column:5}},{start:{line:19,column:4},end:{line:23,column:5}}],line:19},"3":{loc:{start:{line:26,column:50},end:{line:26,column:102}},type:"cond-expr",locations:[{start:{line:26,column:68},end:{line:26,column:83}},{start:{line:26,column:84},end:{line:26,column:102}}],line:26}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},f:{"0":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"57f1e51df1c6cd8ed3299cc7eac75540602451af"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1p2fg5er78=function(){return actualCoverage;};}return actualCoverage;}cov_1p2fg5er78();const axios=(cov_1p2fg5er78().s[0]++,require('axios'));const{RestException,errors}=(cov_1p2fg5er78().s[1]++,require('modules/rest.exception'));const{AMICORE_URL,AMICORE_APIKEY}=(cov_1p2fg5er78().s[2]++,process.env);cov_1p2fg5er78().s[3]++;const getResponseFromCore=async(customerRequest,apikey)=>{cov_1p2fg5er78().f[0]++;cov_1p2fg5er78().s[4]++;if((cov_1p2fg5er78().b[1][0]++,typeof apikey=="undefined")||(cov_1p2fg5er78().b[1][1]++,apikey==null)){cov_1p2fg5er78().b[0][0]++;cov_1p2fg5er78().s[5]++;throw new RestException(errors.INVALID_APIPKEY);}else{cov_1p2fg5er78().b[0][1]++;}cov_1p2fg5er78().s[6]++;try{const response=(cov_1p2fg5er78().s[7]++,await axios({method:'post',url:AMICORE_URL,headers:{'x-api-key':apikey},data:customerRequest}));cov_1p2fg5er78().s[8]++;if(response.status!==200){cov_1p2fg5er78().b[2][0]++;cov_1p2fg5er78().s[9]++;throw new RestException(errors.ERROR_SERVICE);}else{cov_1p2fg5er78().b[2][1]++;cov_1p2fg5er78().s[10]++;return response.data;}}catch(e){cov_1p2fg5er78().s[11]++;throw new RestException(errors.ERROR_SERVICE,"response"in e?(cov_1p2fg5er78().b[3][0]++,e.response.data):(cov_1p2fg5er78().b[3][1]++,"Ocurri√≥ un error"));}};cov_1p2fg5er78().s[12]++;module.exports={getResponseFromCore};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldFJlc3BvbnNlRnJvbUNvcmUuanMiXSwibmFtZXMiOlsiYXhpb3MiLCJyZXF1aXJlIiwiUmVzdEV4Y2VwdGlvbiIsImVycm9ycyIsIkFNSUNPUkVfVVJMIiwiQU1JQ09SRV9BUElLRVkiLCJwcm9jZXNzIiwiZW52IiwiZ2V0UmVzcG9uc2VGcm9tQ29yZSIsImN1c3RvbWVyUmVxdWVzdCIsImFwaWtleSIsIklOVkFMSURfQVBJUEtFWSIsInJlc3BvbnNlIiwibWV0aG9kIiwidXJsIiwiaGVhZGVycyIsImRhdGEiLCJzdGF0dXMiLCJFUlJPUl9TRVJWSUNFIiwiZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJtM0VBZVk7MkZBZlosS0FBTUEsQ0FBQUEsS0FBSywwQkFBR0MsT0FBTyxDQUFDLE9BQUQsQ0FBVixDQUFYLENBQ0EsS0FBTSxDQUFFQyxhQUFGLENBQWlCQyxNQUFqQiwyQkFBMkJGLE9BQU8sQ0FBQyx3QkFBRCxDQUFsQyxDQUFOLENBRUEsS0FBTSxDQUFFRyxXQUFGLENBQWVDLGNBQWYsMkJBQWtDQyxPQUFPLENBQUNDLEdBQTFDLENBQU4sQyx3QkFFQSxLQUFNQyxDQUFBQSxtQkFBbUIsQ0FBRyxNQUFRQyxlQUFSLENBQXlCQyxNQUF6QixHQUFvQyxpREFDOUQsR0FBRyxrQ0FBT0EsQ0FBQUEsTUFBUCxFQUFnQixXQUFoQiwrQkFBK0JBLE1BQU0sRUFBRSxJQUF2QyxDQUFILENBQStDLG9EQUM3QyxLQUFNLElBQUlSLENBQUFBLGFBQUosQ0FBa0JDLE1BQU0sQ0FBQ1EsZUFBekIsQ0FBTixDQUNELENBRkQsaUNBRDhELHdCQUk5RCxHQUFJLENBQ0YsS0FBTUMsQ0FBQUEsUUFBUSwwQkFBRyxLQUFNWixDQUFBQSxLQUFLLENBQUMsQ0FDM0JhLE1BQU0sQ0FBRSxNQURtQixDQUUzQkMsR0FBRyxDQUFFVixXQUZzQixDQUczQlcsT0FBTyxDQUFFLENBQ1AsWUFBYUwsTUFETixDQUhrQixDQU0zQk0sSUFBSSxDQUFFUCxlQU5xQixDQUFELENBQWQsQ0FBZCxDQURFLHdCQVNGLEdBQUlHLFFBQVEsQ0FBQ0ssTUFBVCxHQUFvQixHQUF4QixDQUE4QixvREFDNUIsS0FBTSxJQUFJZixDQUFBQSxhQUFKLENBQWtCQyxNQUFNLENBQUNlLGFBQXpCLENBQU4sQ0FDRCxDQUZELElBRU8scURBQ0wsTUFBT04sQ0FBQUEsUUFBUSxDQUFDSSxJQUFoQixDQUNELENBQ0YsQ0FBQyxNQUFPRyxDQUFQLENBQVUsMEJBRVYsS0FBTSxJQUFJakIsQ0FBQUEsYUFBSixDQUFrQkMsTUFBTSxDQUFDZSxhQUF6QixDQUF3QyxZQUFjQyxDQUFBQSxDQUFkLDZCQUFrQkEsQ0FBQyxDQUFDUCxRQUFGLENBQVdJLElBQTdCLDhCQUFrQyxrQkFBbEMsQ0FBeEMsQ0FBTixDQUNELENBQ0YsQ0F0QkQsQyx5QkF3QkFJLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQixDQUNmYixtQkFEZSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKTtcclxuY29uc3QgeyBSZXN0RXhjZXB0aW9uLCBlcnJvcnN9ID0gcmVxdWlyZSgnbW9kdWxlcy9yZXN0LmV4Y2VwdGlvbicpO1xyXG5cclxuY29uc3QgeyBBTUlDT1JFX1VSTCwgQU1JQ09SRV9BUElLRVkgfSA9IHByb2Nlc3MuZW52O1xyXG5cclxuY29uc3QgZ2V0UmVzcG9uc2VGcm9tQ29yZSA9IGFzeW5jICggY3VzdG9tZXJSZXF1ZXN0LCBhcGlrZXkpID0+IHtcclxuICBpZih0eXBlb2YgYXBpa2V5ID09XCJ1bmRlZmluZWRcIiB8fCBhcGlrZXk9PW51bGwpe1xyXG4gICAgdGhyb3cgbmV3IFJlc3RFeGNlcHRpb24oZXJyb3JzLklOVkFMSURfQVBJUEtFWSk7XHJcbiAgfVxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zKHtcclxuICAgICAgbWV0aG9kOiAncG9zdCcsXHJcbiAgICAgIHVybDogQU1JQ09SRV9VUkwsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAneC1hcGkta2V5JzogYXBpa2V5LFxyXG4gICAgICB9LFxyXG4gICAgICBkYXRhOiBjdXN0b21lclJlcXVlc3QsXHJcbiAgICB9KTtcclxuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCApIHtcclxuICAgICAgdGhyb3cgbmV3IFJlc3RFeGNlcHRpb24oZXJyb3JzLkVSUk9SX1NFUlZJQ0UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZSkge1xyXG5cclxuICAgIHRocm93IG5ldyBSZXN0RXhjZXB0aW9uKGVycm9ycy5FUlJPUl9TRVJWSUNFLCBcInJlc3BvbnNlXCIgaW4gZSA/IGUucmVzcG9uc2UuZGF0YTpcIk9jdXJyacOzIHVuIGVycm9yXCIpO1xyXG4gIH1cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGdldFJlc3BvbnNlRnJvbUNvcmUsXHJcbn07XHJcbiJdfQ==