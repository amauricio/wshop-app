function cov_4f45j9k2i(){var path="/vagrant/continuum/core/src/modules/index.js";var hash="563590c3a032ddf7ffabe083296fc84354646fab";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/vagrant/continuum/core/src/modules/index.js",statementMap:{"0":{start:{line:1,column:11},end:{line:1,column:24}},"1":{start:{line:2,column:16},end:{line:2,column:34}},"2":{start:{line:3,column:21},end:{line:3,column:47}},"3":{start:{line:6,column:15},end:{line:6,column:31}},"4":{start:{line:7,column:17},end:{line:7,column:26}},"5":{start:{line:8,column:0},end:{line:31,column:2}},"6":{start:{line:9,column:2},end:{line:29,column:5}},"7":{start:{line:10,column:20},end:{line:10,column:44}},"8":{start:{line:11,column:4},end:{line:28,column:5}},"9":{start:{line:12,column:6},end:{line:27,column:7}},"10":{start:{line:13,column:26},end:{line:13,column:56}},"11":{start:{line:14,column:8},end:{line:24,column:9}},"12":{start:{line:15,column:10},end:{line:23,column:11}},"13":{start:{line:16,column:12},end:{line:22,column:15}},"14":{start:{line:17,column:33},end:{line:17,column:35}},"15":{start:{line:20,column:14},end:{line:20,column:69}},"16":{start:{line:20,column:34},end:{line:20,column:69}},"17":{start:{line:21,column:14},end:{line:21,column:68}},"18":{start:{line:26,column:8},end:{line:26,column:69}},"19":{start:{line:30,column:2},end:{line:30,column:16}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:8,column:17},end:{line:8,column:18}},loc:{start:{line:8,column:35},end:{line:31,column:1}},line:8},"1":{name:"(anonymous_1)",decl:{start:{line:9,column:35},end:{line:9,column:36}},loc:{start:{line:9,column:48},end:{line:29,column:3}},line:9},"2":{name:"(anonymous_2)",decl:{start:{line:16,column:35},end:{line:16,column:36}},loc:{start:{line:16,column:73},end:{line:22,column:13}},line:16}},branchMap:{"0":{loc:{start:{line:11,column:4},end:{line:28,column:5}},type:"if",locations:[{start:{line:11,column:4},end:{line:28,column:5}},{start:{line:11,column:4},end:{line:28,column:5}}],line:11},"1":{loc:{start:{line:15,column:10},end:{line:23,column:11}},type:"if",locations:[{start:{line:15,column:10},end:{line:23,column:11}},{start:{line:15,column:10},end:{line:23,column:11}}],line:15},"2":{loc:{start:{line:20,column:14},end:{line:20,column:69}},type:"if",locations:[{start:{line:20,column:14},end:{line:20,column:69}},{start:{line:20,column:14},end:{line:20,column:69}}],line:20}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"563590c3a032ddf7ffabe083296fc84354646fab"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_4f45j9k2i=function(){return actualCoverage;};}return actualCoverage;}cov_4f45j9k2i();const fs=(cov_4f45j9k2i().s[0]++,require('fs'));const express=(cov_4f45j9k2i().s[1]++,require('express'));const{debugApp}=(cov_4f45j9k2i().s[2]++,require('../config/debug'));const router=(cov_4f45j9k2i().s[3]++,express.Router());const basePath=(cov_4f45j9k2i().s[4]++,__dirname);cov_4f45j9k2i().s[5]++;module.exports=dependencies=>{cov_4f45j9k2i().f[0]++;cov_4f45j9k2i().s[6]++;fs.readdirSync(basePath).forEach(dirName=>{cov_4f45j9k2i().f[1]++;const dirPath=(cov_4f45j9k2i().s[7]++,`${basePath}/${dirName}`);cov_4f45j9k2i().s[8]++;if(fs.lstatSync(dirPath).isDirectory()){cov_4f45j9k2i().b[0][0]++;cov_4f45j9k2i().s[9]++;try{const ctrlPaths=(cov_4f45j9k2i().s[10]++,require(dirPath)(dependencies));cov_4f45j9k2i().s[11]++;for(const key in ctrlPaths){cov_4f45j9k2i().s[12]++;if(ctrlPaths.hasOwnProperty(key)){cov_4f45j9k2i().b[1][0]++;cov_4f45j9k2i().s[13]++;ctrlPaths[key].forEach(({method,path,ctrlMiddleware})=>{cov_4f45j9k2i().f[2]++;const middleware=(cov_4f45j9k2i().s[14]++,[]);// if (authentication) middleware.push(expressAuthentication);
// if (profileAccess) middleware.push(validateProfile(profileAccess));
cov_4f45j9k2i().s[15]++;if(ctrlMiddleware){cov_4f45j9k2i().b[2][0]++;cov_4f45j9k2i().s[16]++;middleware.push(...ctrlMiddleware);}else{cov_4f45j9k2i().b[2][1]++;}cov_4f45j9k2i().s[17]++;router.route(`/${key}${path}`)[method](...middleware);});}else{cov_4f45j9k2i().b[1][1]++;}}}catch(err){cov_4f45j9k2i().s[18]++;debugApp(`>>>>>>>>>>>>>: ${__filename}::ERROR: `,err.stack);}}else{cov_4f45j9k2i().b[0][1]++;}});cov_4f45j9k2i().s[19]++;return router;};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImZzIiwicmVxdWlyZSIsImV4cHJlc3MiLCJkZWJ1Z0FwcCIsInJvdXRlciIsIlJvdXRlciIsImJhc2VQYXRoIiwiX19kaXJuYW1lIiwibW9kdWxlIiwiZXhwb3J0cyIsImRlcGVuZGVuY2llcyIsInJlYWRkaXJTeW5jIiwiZm9yRWFjaCIsImRpck5hbWUiLCJkaXJQYXRoIiwibHN0YXRTeW5jIiwiaXNEaXJlY3RvcnkiLCJjdHJsUGF0aHMiLCJrZXkiLCJoYXNPd25Qcm9wZXJ0eSIsIm1ldGhvZCIsInBhdGgiLCJjdHJsTWlkZGxld2FyZSIsIm1pZGRsZXdhcmUiLCJwdXNoIiwicm91dGUiLCJlcnIiLCJfX2ZpbGVuYW1lIiwic3RhY2siXSwibWFwcGluZ3MiOiI2ekZBZVk7eUZBZlosS0FBTUEsQ0FBQUEsRUFBRSx5QkFBR0MsT0FBTyxDQUFDLElBQUQsQ0FBVixDQUFSLENBQ0EsS0FBTUMsQ0FBQUEsT0FBTyx5QkFBR0QsT0FBTyxDQUFDLFNBQUQsQ0FBVixDQUFiLENBQ0EsS0FBTSxDQUFFRSxRQUFGLDBCQUFlRixPQUFPLENBQUMsaUJBQUQsQ0FBdEIsQ0FBTixDQUdBLEtBQU1HLENBQUFBLE1BQU0seUJBQUdGLE9BQU8sQ0FBQ0csTUFBUixFQUFILENBQVosQ0FDQSxLQUFNQyxDQUFBQSxRQUFRLHlCQUFHQyxTQUFILENBQWQsQyx1QkFDQUMsTUFBTSxDQUFDQyxPQUFQLENBQWtCQyxZQUFELEVBQWtCLCtDQUNqQ1YsRUFBRSxDQUFDVyxXQUFILENBQWVMLFFBQWYsRUFBeUJNLE9BQXpCLENBQWtDQyxPQUFELEVBQWEsd0JBQzVDLEtBQU1DLENBQUFBLE9BQU8seUJBQUksR0FBRVIsUUFBUyxJQUFHTyxPQUFRLEVBQTFCLENBQWIsQ0FENEMsdUJBRTVDLEdBQUliLEVBQUUsQ0FBQ2UsU0FBSCxDQUFhRCxPQUFiLEVBQXNCRSxXQUF0QixFQUFKLENBQXlDLGtEQUN2QyxHQUFJLENBQ0YsS0FBTUMsQ0FBQUEsU0FBUywwQkFBR2hCLE9BQU8sQ0FBQ2EsT0FBRCxDQUFQLENBQWlCSixZQUFqQixDQUFILENBQWYsQ0FERSx3QkFFRixJQUFLLEtBQU1RLENBQUFBLEdBQVgsR0FBa0JELENBQUFBLFNBQWxCLENBQTZCLHlCQUMzQixHQUFJQSxTQUFTLENBQUNFLGNBQVYsQ0FBeUJELEdBQXpCLENBQUosQ0FBbUMsbURBQ2pDRCxTQUFTLENBQUNDLEdBQUQsQ0FBVCxDQUFlTixPQUFmLENBQXVCLENBQUMsQ0FBRVEsTUFBRixDQUFVQyxJQUFWLENBQWdCQyxjQUFoQixDQUFELEdBQXNDLHdCQUMzRCxLQUFNQyxDQUFBQSxVQUFVLDBCQUFHLEVBQUgsQ0FBaEIsQ0FDQTtBQUNBO0FBSDJELHdCQUkzRCxHQUFJRCxjQUFKLENBQW9CLG1EQUFBQyxVQUFVLENBQUNDLElBQVgsQ0FBZ0IsR0FBR0YsY0FBbkIsRUFBbUMsQ0FBdkQsZ0NBSjJELHdCQUszRGxCLE1BQU0sQ0FBQ3FCLEtBQVAsQ0FBYyxJQUFHUCxHQUFJLEdBQUVHLElBQUssRUFBNUIsRUFBK0JELE1BQS9CLEVBQXVDLEdBQUdHLFVBQTFDLEVBQ0QsQ0FORCxFQU9ELENBUkQsZ0NBU0QsQ0FDRixDQUFDLE1BQU9HLEdBQVAsQ0FBWSx5QkFDWnZCLFFBQVEsQ0FBRSxrQkFBaUJ3QixVQUFXLFdBQTlCLENBQTBDRCxHQUFHLENBQUNFLEtBQTlDLENBQVIsQ0FDRCxDQUNGLENBakJELGdDQWtCRCxDQXBCRCxFQURpQyx3QkFzQmpDLE1BQU94QixDQUFBQSxNQUFQLENBQ0QsQ0F2QkQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XHJcbmNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbmNvbnN0IHsgZGVidWdBcHAgfSA9IHJlcXVpcmUoJy4uL2NvbmZpZy9kZWJ1ZycpO1xyXG5cclxuXHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbmNvbnN0IGJhc2VQYXRoID0gX19kaXJuYW1lO1xyXG5tb2R1bGUuZXhwb3J0cyA9IChkZXBlbmRlbmNpZXMpID0+IHtcclxuICBmcy5yZWFkZGlyU3luYyhiYXNlUGF0aCkuZm9yRWFjaCgoZGlyTmFtZSkgPT4ge1xyXG4gICAgY29uc3QgZGlyUGF0aCA9IGAke2Jhc2VQYXRofS8ke2Rpck5hbWV9YDtcclxuICAgIGlmIChmcy5sc3RhdFN5bmMoZGlyUGF0aCkuaXNEaXJlY3RvcnkoKSkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGN0cmxQYXRocyA9IHJlcXVpcmUoZGlyUGF0aCkoZGVwZW5kZW5jaWVzKTtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBjdHJsUGF0aHMpIHtcclxuICAgICAgICAgIGlmIChjdHJsUGF0aHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgICAgICBjdHJsUGF0aHNba2V5XS5mb3JFYWNoKCh7IG1ldGhvZCwgcGF0aCwgY3RybE1pZGRsZXdhcmUgfSkgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnN0IG1pZGRsZXdhcmUgPSBbXTtcclxuICAgICAgICAgICAgICAvLyBpZiAoYXV0aGVudGljYXRpb24pIG1pZGRsZXdhcmUucHVzaChleHByZXNzQXV0aGVudGljYXRpb24pO1xyXG4gICAgICAgICAgICAgIC8vIGlmIChwcm9maWxlQWNjZXNzKSBtaWRkbGV3YXJlLnB1c2godmFsaWRhdGVQcm9maWxlKHByb2ZpbGVBY2Nlc3MpKTtcclxuICAgICAgICAgICAgICBpZiAoY3RybE1pZGRsZXdhcmUpIG1pZGRsZXdhcmUucHVzaCguLi5jdHJsTWlkZGxld2FyZSk7XHJcbiAgICAgICAgICAgICAgcm91dGVyLnJvdXRlKGAvJHtrZXl9JHtwYXRofWApW21ldGhvZF0oLi4ubWlkZGxld2FyZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgZGVidWdBcHAoYD4+Pj4+Pj4+Pj4+Pj46ICR7X19maWxlbmFtZX06OkVSUk9SOiBgLCBlcnIuc3RhY2spO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgcmV0dXJuIHJvdXRlcjtcclxufTtcclxuIl19